(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+PlL":function(t,e,n){"use strict";n.d(e,"h",function(){return c}),n.d(e,"s",function(){return u}),n.d(e,"g",function(){return f}),n.d(e,"p",function(){return l}),n.d(e,"q",function(){return h}),n.d(e,"r",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"l",function(){return y}),n.d(e,"k",function(){return v}),n.d(e,"m",function(){return m}),n.d(e,"i",function(){return b}),n.d(e,"c",function(){return g}),n.d(e,"n",function(){return j}),n.d(e,"o",function(){return O}),n.d(e,"b",function(){return w}),n.d(e,"a",function(){return k}),n.d(e,"d",function(){return x}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return E});var r=n("wGSO"),o=n("wksm"),i=n("MCyj"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},c={type:o.d};function u(t,e){if(Object(i.j)(t)||"number"==typeof t){var n={type:t};return e&&Object.assign(n,e),n}return t}function f(t,e){return e&&e[t]||void 0}function l(t,e){var n;if(Object(i.j)(t)||"number"==typeof t){var r=f(t,e);n=Object(i.f)(r)?{type:t,exec:r}:r||{type:t,exec:void 0}}else if(Object(i.f)(t))n={type:t.name||t.toString(),exec:t};else{r=f(t.type,e);if(Object(i.f)(r))n=s({},t,{exec:r});else if(r){var o=t.type,c=a(t,["type"]);n=s({type:o},r,c)}else n=t}return Object.defineProperty(n,"toString",{value:function(){return n.type},enumerable:!1,configurable:!0}),n}var h=function(t,e){return t?(Object(i.d)(t)?t:[t]).map(function(t){return l(t,e)}):[]};function d(t){var e=l(t);return s({id:Object(i.j)(t)?t:e.id},e,{type:e.type})}function p(t){return{type:o.h,event:t}}function y(t,e){return{to:e?e.to:void 0,type:o.i,event:Object(i.f)(t)?t:u(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:Object(i.f)(t)?t.name:Object(i.c)(t)}}function v(t,e,n){var r=Object(i.f)(t.event)?u(t.event(e,n)):u(t.event),o=Object(i.f)(t.delay)?t.delay(e,n):t.delay,a=Object(i.f)(t.to)?t.to(e,n):t.to;return s({},t,{to:a,event:r,delay:o})}function m(t,e){return y(t,s({},e,{to:r.b.Parent}))}function b(t,e){return void 0===t&&(t=function(t,e){return{context:t,event:e}}),{type:o.f,label:e,expr:t}}var g=function(t){return{type:o.b,sendId:t}};function j(t){var e=d(t);return{type:r.a.Start,activity:e,exec:void 0}}function O(t){var e=d(t);return{type:r.a.Stop,activity:e,exec:void 0}}var w=function(t){return{type:o.a,assignment:t}};function k(t,e){var n=e?"#"+e:"";return r.a.After+"("+t+")"+n}function x(t,e){var n=r.a.DoneState+"."+t,o={type:n,data:e,toString:function(){return n}};return o}function S(t,e){var n=r.a.DoneInvoke+"."+t,o={type:n,data:e,toString:function(){return n}};return o}function E(t,e){return{src:e,type:r.a.ErrorExecution,data:t}}},"+bMU":function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){let n=Object.assign({},t,e.connection);return n.headers=Object.assign({Accept:"application/json"},this.options.headers,n.headers),t.body&&(n.body=JSON.stringify(t.body)),(0,this.connection)(t.url,n).then(this.checkStatus).then(t=>204===t.status?null:t.json())}checkStatus(t){return t.ok?t:t.json().then(e=>{throw e.response=t,e})}}},"/lDR":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/states",function(){var t=n("902E");return{page:t.default||t}}])},"0HVw":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var r=".",o={},i="xstate.guard"},"2rXV":function(t,e,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();t.exports=e=r.fetch,e.default=r.fetch.bind(r),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},"5IsQ":function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!f){var t=a(h);f=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||f||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"5U28":function(t,e,n){"use strict";(function(t){n("wGSO"),n("u/lu"),n("wksm"),n("+PlL"),n("UAkw"),n("MCyj"),n("iHuT"),n("wt2B")}).call(this,n("pCvA"))},"6YOp":function(t,e){t.exports=function(t={}){if(!t.header)throw new Error("You need to pass 'options.header' to the populateHeader() hook.");return function(e){return"before"!==e.type?Promise.reject(new Error("The 'populateHeader' hook should only be used as a 'before' hook.")):(e.params.accessToken&&(e.params.headers=Object.assign({},{[t.header]:t.prefix?`${t.prefix} ${e.params.accessToken}`:e.params.accessToken},e.params.headers)),Promise.resolve(e))}}},"902E":function(t,e,n){"use strict";n.r(e);var r=n("mXGw"),o=n.n(r),i=n("wOhW"),s=n("UrUy"),a=n.n(s),c=n("R3/3"),u=n("MCyj");var f=n("wGSO"),l=n("u/lu"),h=n("wksm"),d=n("+PlL"),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t},m=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},b={resolved:!1},g=function(){function t(e,n,r,o){var i,s=this;void 0===r&&(r=b),this.stateNode=e,this.stateValue=n,this.parent=o,this.reentryNodes=new Set,this.root=this.parent?this.parent.root:this,this.nodes=n?Object(u.j)(n)?((i={})[n]=new t(e.getStateNode(n),void 0,void 0,this),i):Object(u.n)(n,function(n,r){return new t(e.getStateNode(r),n,void 0,s)}):{};var a=p({},b,r);this.isResolved=a.resolved}return Object.defineProperty(t.prototype,"done",{get:function(){var t=this;switch(this.stateNode.type){case"final":return!0;case"compound":return"final"===this.nodes[Object(u.k)(this.nodes)[0]].stateNode.type;case"parallel":return Object(u.k)(this.nodes).every(function(e){return t.nodes[e].done});default:return!1}},enumerable:!0,configurable:!0}),t.prototype.getDoneData=function(t,e){if(this.done&&"compound"===this.stateNode.type){var n=this.nodes[Object(u.k)(this.nodes)[0]];if(!n.stateNode.data)return;return Object(u.l)(n.stateNode.data,t,e)}},Object.defineProperty(t.prototype,"atomicNodes",{get:function(){var t=this;return"atomic"===this.stateNode.type||"final"===this.stateNode.type?[this.stateNode]:Object(u.b)(Object(u.k)(this.value).map(function(e){return t.value[e].atomicNodes}))},enumerable:!0,configurable:!0}),t.prototype.getDoneEvents=function(t){var e=this;if(!t||!t.size)return[];if(t.has(this.stateNode)&&"final"===this.stateNode.type)return[Object(d.d)(this.stateNode.id,this.stateNode.data)];var n=Object(u.b)(Object(u.k)(this.nodes).map(function(n){return e.nodes[n].getDoneEvents(t)}));if("parallel"===this.stateNode.type){var r=Object(u.k)(this.nodes).every(function(t){return e.nodes[t].done});return n&&r?n.concat(Object(d.d)(this.stateNode.id)):n}if(!this.done||!n.length)return n;var o=1===n.length?n[0].data:void 0;return n.concat(Object(d.d)(this.stateNode.id,o))},Object.defineProperty(t.prototype,"resolved",{get:function(){var e=new t(this.stateNode,this.stateNode.resolve(this.value),{resolved:!0});return e.reentryNodes=this.reentryNodes,e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paths",{get:function(){return Object(u.w)(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"absolute",{get:function(){for(var e=this.stateValue,n={},r=n,o=0;o<this.stateNode.path.length;o++){var i=this.stateNode.path[o];o===this.stateNode.path.length-1?r[i]=e:(r[i]={},r=r[i])}var s=new t(this.stateNode.machine,n);return s.reentryNodes=this.reentryNodes,s},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvents",{get:function(){var t=this,e=this.stateNode.ownEvents,n=Object(u.b)(Object(u.k)(this.nodes).map(function(e){return t.nodes[e].nextEvents}));return v(new Set(n.concat(e)))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.stateNode,this.value,void 0,this.parent)},t.prototype.combine=function(t){var e,n,r;if(t.stateNode!==this.stateNode)throw new Error("Cannot combine distinct trees");var o=this.clone();if(t.root.reentryNodes.forEach(function(t){o.root.addReentryNode(t)}),"compound"===this.stateNode.type){var i=void 0;if(Object(u.k)(this.nodes).length&&Object(u.k)(t.nodes).length){var s=Object(u.k)(this.nodes)[0];return(e={})[s]=this.nodes[s].combine(t.nodes[s]),i=e,o.nodes=i,o}return i=Object.assign({},this.nodes,t.nodes),o.nodes=i,o}if("parallel"===this.stateNode.type){var a=new Set(v(Object(u.k)(this.nodes),Object(u.k)(t.nodes)));i={};try{for(var c=m(a),f=c.next();!f.done;f=c.next()){var l=f.value;this.nodes[l]&&t.nodes[l]?i[l]=this.nodes[l].combine(t.nodes[l]):i[l]=this.nodes[l]||t.nodes[l]}}catch(h){n={error:h}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return o.nodes=i,o}return this},Object.defineProperty(t.prototype,"value",{get:function(){if("atomic"===this.stateNode.type||"final"===this.stateNode.type)return{};if("parallel"===this.stateNode.type)return Object(u.n)(this.nodes,function(t){return t.value});if("compound"===this.stateNode.type){if(0===Object(u.k)(this.nodes).length)return{};var t=this.nodes[Object(u.k)(this.nodes)[0]].stateNode;return"atomic"===t.type||"final"===t.type?t.key:Object(u.n)(this.nodes,function(t){return t.value})}return{}},enumerable:!0,configurable:!0}),t.prototype.matches=function(t){return Object(u.o)(t,this.value)},t.prototype.getEntryExitStates=function(t){var e,n,r=this,o=this.root.reentryNodes;if(!t)return{exit:[],entry:v(o)};if(t.stateNode!==this.stateNode)throw new Error("Cannot compare distinct trees");switch(this.stateNode.type){case"compound":var i={exit:[],entry:[]},s=Object(u.k)(this.nodes)[0],a=Object(u.k)(t.nodes)[0];return s!==a?(i.exit=t.nodes[a].getExitStates(),i.entry=this.nodes[s].getEntryStates()):i=this.nodes[s].getEntryExitStates(t.nodes[a]),o&&o.has(this.stateNode)&&(i.exit.push(this.stateNode),i.entry.unshift(this.stateNode)),i;case"parallel":var c=Object(u.k)(this.nodes).map(function(e){return r.nodes[e].getEntryExitStates(t.nodes[e])}),f={exit:[],entry:[]};try{for(var l=m(c),h=l.next();!h.done;h=l.next()){var d=h.value;f.exit=v(f.exit,d.exit),f.entry=v(f.entry,d.entry)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return o&&o.has(this.stateNode)&&(f.exit.push(this.stateNode),f.entry.unshift(this.stateNode)),f;case"atomic":default:return o&&o.has(this.stateNode)?{exit:[this.stateNode],entry:[this.stateNode]}:{exit:[],entry:[]}}},t.prototype.getEntryStates=function(){var t=this;return this.nodes?[this.stateNode].concat(Object(u.b)(Object(u.k)(this.nodes).map(function(e){return t.nodes[e].getEntryStates()}))):[this.stateNode]},t.prototype.getExitStates=function(){var t=this;return this.nodes?Object(u.b)(Object(u.k)(this.nodes).map(function(e){return t.nodes[e].getExitStates()})).concat(this.stateNode):[this.stateNode]},t.prototype.addReentryNode=function(t){this.root.reentryNodes.add(t)},t}(),j=n("UAkw"),O=n("0HVw"),w=function(){return(w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},k=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},S=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t},E=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},C=".",N="",P={},_=function(t){return"#"===t[0]},T=function(){return{actions:{},guards:{},services:{},activities:{},delays:{},updater:u.z}},F=function(){function t(e,n,r){var o=this;this.context=r,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,transitions:void 0},this.idMap={};var i=e.parent,s=k(e,["parent"]);this.config=s,this.parent=i,this.options=w({},T(),n),this.key=e.key||e.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=e.delimiter||(this.parent?this.parent.delimiter:C),this.id=e.id||(this.machine?S([this.machine.key],this.path).join(this.delimiter):this.key),this.version=this.parent?this.parent.version:e.version,this.type=e.type||(e.parallel?"parallel":e.states&&Object(u.k)(e.states).length?"compound":e.history?"history":"atomic"),j.a||Object(u.B)(!("parallel"in e),'The "parallel" property is deprecated and will be removed in version 4.1. '+(e.parallel?"Replace with `type: 'parallel'`":"Use `type: '"+this.type+"'`")+" in the config for state node '"+this.id+"' instead."),this.initial=e.initial,this.order=e.order||-1,this.states=e.states?Object(u.n)(e.states,function(e,n,r,i){var s,a=new t(w({},e,{key:n,order:void 0===e.order?i:e.order,parent:o}));return Object.assign(o.idMap,w(((s={})[a.id]=a,s),a.idMap)),a}):P,this.history=!0===e.history?"shallow":e.history||!1,this._transient=!(!e.on||!e.on[N]),this.strict=!!e.strict,this.onEntry=Object(u.t)(e.entry||e.onEntry).map(function(t){return Object(d.p)(t)}),this.onExit=Object(u.t)(e.exit||e.onExit).map(function(t){return Object(d.p)(t)}),this.meta=e.meta,this.data="final"===this.type?e.data:void 0,this.invoke=Object(u.t)(e.invoke).map(function(t,e){var n,r;if(Object(u.g)(t))return(o.parent||o).options.services=w(((n={})[t.id]=t,n),(o.parent||o).options.services),{type:h.e,src:t.id,id:t.id};if("string"!=typeof t.src){var i=o.id+":invocation["+e+"]";return o.machine.options.services=w(((r={})[i]=t.src,r),o.machine.options.services),w({type:h.e,id:i},t,{src:i})}return w({},t,{type:h.e,id:t.id||t.src,src:t.src})}),this.activities=Object(u.t)(e.activities).concat(this.invoke).map(function(t){return Object(d.r)(t)}),this.after=this.getDelayedTransitions()}return t.prototype.withConfig=function(e,n){void 0===n&&(n=this.context);var r=this.options,o=r.actions,i=r.activities,s=r.guards,a=r.services,c=r.delays;return new t(this.config,{actions:w({},o,e.actions),activities:w({},i,e.activities),guards:w({},s,e.guards),services:w({},a,e.services),delays:w({},c,e.delays)},n)},t.prototype.withContext=function(e){return new t(this.definition,this.options,e)},Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,type:this.type,initial:this.initial,history:this.history,states:Object(u.n)(this.states,function(t){return t.definition}),on:this.on,onEntry:this.onEntry,onExit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.data}},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){var t=this;return Object(u.b)(Object(u.k)(this.on).map(function(e){return t.on[e]}))},enumerable:!0,configurable:!0}),t.prototype.getDelayedTransitions=function(){var t=this;if(this.after)return this.after;var e=this.config.after,n=this.machine.options.guards;if(!e)return[];if(Object(u.d)(e))return e.map(function(e,r){var o,i=e.delay,s=e.target;Object(u.f)(i)?(o=t.id+":delay["+r+"]",t.options.delays[o]=i):o=i;var a=Object(d.a)(o,t.id);return t.onEntry.push(Object(d.l)(a,{delay:i})),t.onExit.push(Object(d.c)(a)),w({event:a},e,{target:void 0===s?void 0:Object(u.t)(s),cond:Object(u.u)(e.cond,n),actions:Object(u.t)(e.actions).map(function(t){return Object(d.p)(t)})})});var r=Object(u.b)(Object(u.k)(e).map(function(r){var o=e[r],i=isNaN(+r)?r:+r,s=Object(d.a)(i,t.id);return t.onEntry.push(Object(d.l)(s,{delay:i})),t.onExit.push(Object(d.c)(s)),Object(u.j)(o)?[{target:[o],delay:i,event:s,actions:[]}]:Object(u.t)(o).map(function(t){return w({event:s,delay:i},t,{target:void 0===t.target?t.target:Object(u.t)(t.target),cond:Object(u.u)(t.cond,n),actions:Object(u.t)(t.actions).map(function(t){return Object(d.p)(t)})})})}));return r.sort(function(t,e){return Object(u.j)(t)||Object(u.j)(e)?0:+t.delay-+e.delay}),r},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var r=t instanceof l.a?t.value:Object(u.x)(t,this.delimiter);if(Object(u.j)(r)){var o=this.getStateNode(r).initial;return void 0!==o?this.getStateNodes(((e={})[r]=o,e)):[this.states[r]]}var i=Object(u.k)(r);return i.map(function(t){return n.getStateNode(t)}).concat(i.reduce(function(t,e){var o=n.getStateNode(e).getStateNodes(r[e]);return t.concat(o)},[]))},t.prototype.handles=function(t){var e=Object(u.c)(t);return-1!==this.events.indexOf(e)},t.prototype.resolveState=function(t){return new l.a(w({},t,{value:this.resolve(t.value),tree:this.getStateTree(t.value)}))},t.prototype.transitionLeafNode=function(t,e,n){var r=this.getStateNode(t).next(e,n);if(!r.tree){var o=this.next(e,n),i=o.actions;return{tree:o.tree,source:e,actions:i}}return r},t.prototype.transitionCompoundNode=function(t,e,n){var r=Object(u.k)(t),o=this.getStateNode(r[0])._transition(t[r[0]],e,n);if(!o.tree){var i=this.next(e,n),s=i.actions;return{tree:i.tree,source:e,actions:s}}return o},t.prototype.transitionParallelNode=function(t,e,n){var r,o,i=this,s=[],a={};try{for(var c=E(Object(u.k)(t)),f=c.next();!f.done;f=c.next()){var l=f.value,h=t[l];if(h){var d=this.getStateNode(l)._transition(h,e,n);d.tree||s.push(l),a[l]=d}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}if(!Object(u.k)(a).some(function(t){return void 0!==a[t].tree})){var p=this.next(e,n),y=p.actions;return{tree:p.tree,source:e,actions:y}}var v=Object(u.k)(a).map(function(t){return a[t].tree}).filter(function(t){return void 0!==t}).reduce(function(t,e){return t.combine(e)});return 1!==v.paths.length||Object(u.o)(Object(u.x)(this.path,this.delimiter),v.value)?{tree:Object(u.k)(a).map(function(t){var n=a[t].tree;if(n)return n;var r=Object(u.r)(i.path)(e.value)[t];return new g(i.getStateNode(t),r).absolute}).reduce(function(t,e){return t.combine(e)}),source:e,actions:Object(u.b)(Object(u.k)(a).map(function(t){return a[t].actions}))}:{tree:v,source:e,actions:Object(u.b)(Object(u.k)(a).map(function(t){return a[t].actions}))}},t.prototype._transition=function(t,e,n){return Object(u.j)(t)?this.transitionLeafNode(t,e,n):1===Object(u.k)(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.next=function(t,e){var n,r,o=this,i=e.type,s=this.on[i];if(!s||!s.length)return{tree:void 0,source:t,actions:[]};var a,c=this._transient?[{type:h.g}]:[],f=[];try{for(var l=E(s),d=l.next();!d.done;d=l.next()){var p=d.value,y=p.cond,v=p.in,m=t.context,b=!v||(Object(u.j)(v)&&_(v)?t.matches(Object(u.x)(this.getStateNodeById(v).path,this.delimiter)):Object(u.o)(Object(u.x)(v,this.delimiter),Object(u.r)(this.path.slice(0,-2))(t.value)));if((!y||this.evaluateGuard(y,m,e,t))&&b){void 0!==p.target&&(f=p.target),c.push.apply(c,S(Object(u.t)(p.actions))),a=p;break}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(!f.length)return{tree:a&&t.value?this.machine.getStateTree(t.value):void 0,source:t,actions:c};var g=Object(u.b)(f.map(function(e){return o.getRelativeStateNodes(e,t.historyValue)})),j=!!a.internal?[]:Object(u.b)(g.map(function(t){return o.nodesFromChild(t)})),O=g.map(function(t){return t.tree}).reduce(function(t,e){return t.combine(e)});return j.forEach(function(t){return O.addReentryNode(t)}),{tree:O,source:t,actions:c}},Object.defineProperty(t.prototype,"tree",{get:function(){var t=Object(u.x)(this.path,this.delimiter);return new g(this.machine,t)},enumerable:!0,configurable:!0}),t.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var e=[],n=t;n&&n!==this;)e.push(n),n=n.parent;return e.push(this),e},t.prototype.getStateTree=function(t){return new g(this,t)},t.prototype.escapes=function(t){if(this===t)return!1;for(var e=this.parent;e;){if(e===t)return!1;e=e.parent}return!0},t.prototype.evaluateGuard=function(t,e,n,r){var o=this.machine.options.guards,i={state:r,cond:t};if(t.type===O.a)return t.predicate(e,n,i);if(!o[t.type])throw new Error("Guard '"+t.type+"' is not implemented on machine '"+this.machine.id+"'.");return(0,o[t.type])(e,n,i)},t.prototype.getActions=function(t,e){var n=t.tree?t.tree.resolved.getEntryExitStates(e?this.getStateTree(e.value):void 0):{entry:[],exit:[]},r=t.tree?t.tree.getDoneEvents(new Set(n.entry)):[];t.source||(n.exit=[],n.entry.unshift(this));var o=new Set(n.entry),i=new Set(n.exit),s=x([Object(u.b)(Array.from(o).map(function(t){return S(t.activities.map(function(t){return Object(d.n)(t)}),t.onEntry)})).concat(r.map(d.j)),Object(u.b)(Array.from(i).map(function(t){return S(t.onExit,t.activities.map(function(t){return Object(d.o)(t)}))}))],2),a=s[0],c=s[1];return Object(d.q)(c.concat(t.actions).concat(a),this.machine.options.actions)},t.prototype.transition=function(t,e,n){var r;if(t instanceof l.a)r=void 0===n?t:this.resolveState(l.a.from(t,n));else{var o=Object(u.j)(t)?this.resolve(Object(u.s)(this.getResolvedPath(t))):this.resolve(t),i=n||this.machine.context;r=this.resolveState(l.a.from(o,i))}var s=Object(d.s)(e),a=s.type;if(this.strict&&-1===this.events.indexOf(a)&&!Object(u.e)(a))throw new Error("Machine '"+this.id+"' does not accept event '"+a+"'");var c=this._transition(r.value,r,s);return c.tree&&(c.tree=c.tree.resolved),this.resolveTransition(c,r,s)},t.prototype.resolveTransition=function(t,e,n){var r,o,i,s=this,a=t.tree?t.tree.value:void 0,c=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,p=e?e.context:t.context||this.machine.context,y=n||{type:f.a.Init};if(!j.a&&t.tree)try{this.ensureValidPaths(t.tree.paths)}catch($){throw new Error("Event '"+(y?y.type:"none")+"' leads to an invalid configuration: "+$.message)}var v=this.getActions(t,e),m=e?w({},e.activities):{};try{for(var b=E(v),g=b.next();!g.done;g=b.next()){var O=g.value;O.type===h.j?m[O.activity.type]=O:O.type===h.k&&(m[O.activity.type]=!1)}}catch(J){r={error:J}}finally{try{g&&!g.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}var k=x(Object(u.q)(v,function(t){return t.type===h.h||t.type===h.g}),2),C=k[0],P=k[1],_=x(Object(u.q)(P,function(t){return t.type===h.a}),2),T=_[0],F=_[1],A=T.length?this.options.updater(p,y,T):p,I=Object(u.b)(F.map(function(t){if(t.type===h.i){var e=Object(d.k)(t,A,y||{type:f.a.Init});if(Object(u.j)(e.delay)){if(!s.machine.options.delays||void 0===s.machine.options.delays[e.delay])return j.a||Object(u.B)(!1,"No delay reference for delay expression '"+e.delay+"' was found on machine '"+s.machine.id+"'"),e;var n=s.machine.options.delays[e.delay];e.delay="number"==typeof n?n:n(A,y||{type:f.a.Init})}return e}return t.type===f.a.Pure?t.get(A,y)||[]:Object(d.p)(t,s.options.actions)})),L=a?this.getStateNodes(a):[];L.some(function(t){return t._transient})&&C.push({type:h.g});var V=S([this],L).reduce(function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t},{}),R=new l.a({value:a||e.value,context:A,event:y||d.h,historyValue:a?c?Object(u.A)(c,a):void 0:e?e.historyValue:void 0,history:!a||t.source?e:void 0,actions:a?I:[],activities:a?m:e?e.activities:{},meta:a?V:e?e.meta:void 0,events:a?C:[],tree:a?t.tree:e?e.tree:void 0});R.changed=!!T.length;var H=R.history;if(H&&delete H.history,!a)return R;for(var D=R;C.length;){var q=D.actions,U=C.shift();(D=this.transition(D,U.type===h.g?N:U.event,D.context)).event=y,(i=D.actions).unshift.apply(i,S(q))}var M=H?!!D.actions.length||!!T.length||typeof H.value!=typeof D.value||!Object(l.b)(D.value,H.value):void 0;return D.changed=M,D.historyValue=R.historyValue,D.history=H,D},t.prototype.ensureValidPaths=function(t){var e,n,r=this;if(!j.a){var o=new Map,i=Object(u.b)(t.map(function(t){return r.getRelativeStateNodes(t)}));try{t:for(var s=E(i),a=s.next();!a.done;a=s.next())for(var c=a.value,f=c;f.parent;){if(o.has(f.parent)){if("parallel"===f.parent.type)continue t;throw new Error("State node '"+c.id+"' shares parent '"+f.parent.id+"' with state node '"+o.get(f.parent).map(function(t){return t.id})+"'")}o.get(f.parent)?o.get(f.parent).push(c):o.set(f.parent,[c]),f=f.parent}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},t.prototype.getStateNode=function(t){if(_(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '"+t+"' from '"+this.id+"'; no child states exist.");var e=this.states[t];if(!e)throw new Error("Child state '"+t+"' does not exist on '"+this.id+"'");return e},t.prototype.getStateNodeById=function(t){var e=_(t)?t.slice("#".length):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw new Error("Substate '#"+e+"' does not exist on '"+this.id+"'");return n},t.prototype.getStateNodeByPath=function(t){for(var e=Object(u.v)(t,this.delimiter).slice(),n=this;e.length;){var r=e.shift();if(!r.length)break;n=n.getStateNode(r)}return n},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||P;switch(this.type){case"parallel":return Object(u.n)(this.initialStateValue,function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):P});case"compound":if(Object(u.j)(t)){var r=this.getStateNode(t);return"parallel"===r.type||"compound"===r.type?((e={})[t]=r.initialStateValue,e):t}return Object(u.k)(t).length?Object(u.n)(t,function(t,e){return t?n.getStateNode(e).resolve(t):P}):this.initialStateValue||{};default:return t||P}},Object.defineProperty(t.prototype,"resolvedStateValue",{get:function(){var t,e,n=this.key;if("parallel"===this.type)return(t={})[n]=Object(u.m)(this.states,function(t){return t.resolvedStateValue[t.key]},function(t){return!("history"===t.type)}),t;if(void 0===this.initial)return n;if(!this.states[this.initial])throw new Error("Initial state '"+this.initial+"' not found on '"+n+"'");return(e={})[n]=this.states[this.initial].resolvedStateValue,e},enumerable:!0,configurable:!0}),t.prototype.getResolvedPath=function(t){if(_(t)){var e=this.machine.idMap[t.slice("#".length)];if(!e)throw new Error("Unable to find state node '"+t+"'");return e.path}return Object(u.v)(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var t="parallel"===this.type?Object(u.m)(this.states,function(t){return t.initialStateValue||P},function(t){return!("history"===t.type)}):Object(u.j)(this.resolvedStateValue)?void 0:this.resolvedStateValue[this.key];return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!0,configurable:!0}),t.prototype.getInitialState=function(t,e){void 0===e&&(e=this.machine.context);var n=this.getStateTree(t);return this.getStateNodes(t).forEach(function(t){n.addReentryNode(t)}),this.resolveTransition({tree:n,source:void 0,actions:[],context:e})},Object.defineProperty(t.prototype,"initialState",{get:function(){if(this.__cache.initialState)return this.__cache.initialState;var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '"+this.id+"'.");return this.__cache.initialState=this.getInitialState(t),this.__cache.initialState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=e.target&&Object(u.j)(e.target)&&_(e.target)?Object(u.s)(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!0,configurable:!0}),t.prototype.getStates=function(t){var e,n;if(Object(u.j)(t))return[this.states[t]];var r=[];try{for(var o=E(Object(u.k)(t)),i=o.next();!i.done;i=o.next()){var s=i.value;r.push.apply(r,S(this.states[s].getStates(t[s])))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.getRelativeStateNodes=function(t,e,n){if(void 0===n&&(n=!0),Object(u.j)(t)&&_(t)){var r=this.getStateNodeById(t);return n?"history"===r.type?r.resolveHistory(e):r.initialStateNodes:[r]}var o=Object(u.v)(t,this.delimiter),i=(this.parent||this).getFromRelativePath(o,e);return n?Object(u.b)(i.map(function(t){return t.initialStateNodes})):i},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;if("atomic"===this.type||"final"===this.type)return[this];if("compound"===this.type&&!this.initial)return j.a||Object(u.B)(!1,"Compound state node '"+this.id+"' has no initial state."),[this];var e=Object(u.w)(this.initialStateValue);return Object(u.b)(e.map(function(e){return t.getFromRelativePath(e)}))},enumerable:!0,configurable:!0}),t.prototype.getFromRelativePath=function(t,e){if(!t.length)return[this];var n=x(t),r=n[0],o=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '"+r+"' from node with no states");var i=this.getStateNode(r);if("history"===i.type)return i.resolveHistory(e);if(!this.states[r])throw new Error("Child state '"+r+"' does not exist on '"+this.id+"'");return this.states[r].getFromRelativePath(o,e)},t.prototype.historyValue=function(t){if(Object(u.k)(this.states).length)return{current:t||this.initialStateValue,states:Object(u.m)(this.states,function(e,n){if(!t)return e.historyValue();var r=Object(u.j)(t)?void 0:t[n];return e.historyValue(r||e.initialStateValue)},function(t){return!t.history})}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t)return this.target?Object(u.b)(Object(u.w)(this.target).map(function(t){return n.getFromRelativePath(t)})):n.initialStateNodes;var r=Object(u.p)(n.path,"states")(t).current;return Object(u.j)(r)?[n.getStateNode(r)]:Object(u.b)(Object(u.w)(r).map(function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this,e=Object(u.b)(Object(u.k)(this.states).map(function(e){return t.states[e].stateIds}));return[this.id].concat(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var t,e,n,r;if(this.__cache.events)return this.__cache.events;var o=this.states,i=new Set(this.ownEvents);if(o)try{for(var s=E(Object(u.k)(o)),a=s.next();!a.done;a=s.next()){var c=o[a.value];if(c.states)try{for(var f=E(c.events),l=f.next();!l.done;l=f.next()){var h=l.value;i.add(""+h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var t=this,e=new Set(Object(u.k)(this.on).filter(function(e){return t.on[e].some(function(t){return!(!t.target&&!t.actions.length&&t.internal)})}));return Array.from(e)},enumerable:!0,configurable:!0}),t.prototype.formatTransition=function(t,e,n){var r=this,o=e?e.internal:void 0,i=Object(u.t)(t),s=this.machine.options.guards,a=i.map(function(t){if(Object(u.g)(t))return"#"+t.id;var e=Object(u.j)(t)&&t[0]===r.delimiter;if(o=void 0===o?e:o,e&&!r.parent)return"#"+r.getStateNodeByPath(t.slice(1)).id;var n=e?r.key+t:""+t;return r.parent?"#"+r.parent.getStateNodeByPath(n).id:"#"+r.getStateNodeByPath(n).id});if(void 0===e)return{target:void 0===t?void 0:a,actions:[],internal:void 0===t||o,event:n};var c=void 0===t||""===t;return w({},e,{actions:Object(d.q)(Object(u.t)(e.actions)),cond:Object(u.u)(e.cond,s),target:c?void 0:a,internal:c&&void 0===o||o,event:n})},t.prototype.formatTransitions=function(){var t,e,n,r=this,o=this.config.on||P,i=this.config.onDone?((t={})[""+Object(d.d)(this.id)]=this.config.onDone,t):void 0,s=this.invoke.reduce(function(t,e){return e.onDone&&(t[Object(d.e)(e.id)]=e.onDone),e.onError&&(t[h.c]=e.onError),t},{}),a=this.after,c=Object(u.n)(w({},o,i,s),function(t,e){var n,o;if(void 0===t)return[{target:void 0,event:e,actions:[],internal:!0}];if(Object(u.d)(t))return t.map(function(t){return r.formatTransition(t.target,t,e)});if(Object(u.j)(t)||Object(u.g)(t))return[r.formatTransition([t],void 0,e)];if(!j.a)try{for(var i=E(Object(u.k)(t)),s=i.next();!s.done;s=i.next()){var a=s.value;if(-1===["target","actions","internal","in","cond","event"].indexOf(a))throw new Error("State object mapping of transitions is deprecated. Check the config for event '"+e+"' on state '"+r.id+"'.")}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return[r.formatTransition(t.target,t,e)]});try{for(var f=E(a),l=f.next();!l.done;l=f.next()){var p=l.value;c[p.event]=c[p.event]||[],c[p.event].push(p)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return c},t}();n("5U28");d.j,d.l,d.m,d.i,d.c,d.n,d.o,d.b,d.a,d.d;var A=n("WJub"),I=n.n(A),L=n("TbmU"),V=n.n(L),R=n("lLdn"),H=n.n(R),D=null;function q(t){return U.apply(this,arguments)}function U(){return(U=Object(c.default)(a.a.mark(function t(e){var r,o,i,s,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=I()(),o=e?n("2rXV"):o,i=e?"http://localhost".concat(""):void 0,s=H()(i),r.configure(s.fetch(o)),c={storage:e?void 0:localStorage},r.configure(V()(c)),t.abrupt("return",r);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}var M,$,J,G=function(){var t=Object(c.default)(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(D){t.next=4;break}return t.next=3,q(e);case 3:D=t.sent;case 4:return t.abrupt("return",D);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(c.default)(a.a.mark(function t(e,n){var r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e.api);case 2:return r=t.sent,t.next=5,r.authenticate(n.credentials);case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),z=(M={id:"auth",initial:"init",states:{init:{invoke:{id:"initAuth",src:B,onDone:{target:"signed_in"},onError:{target:"signed_out"}}},signed_out:{initial:"wait",on:{SIGNED_IN:"signed_in"},states:{wait:{on:{SIGN_IN:"signing_in",SIGN_UP:"signing_up"}},signing_in:{initial:"form_input",states:{form_input:{on:{SUBMIT:"form_submit"}},form_submit:{invoke:{id:"signIn",src:B,onDone:{actions:Object(d.l)("SIGNED_IN")},onError:{target:"error"}}},error:{on:{CONTINUE:"form_input"}}},on:{CANCEL:"wait"}},signing_up:{initial:"form_input",states:{form_input:{on:{SUBMIT:"form_submit"}},form_submit:{invoke:{id:"signIn",src:B,onDone:{actions:Object(d.l)("SIGNED_IN")},onError:{target:"error"}}},error:{on:{CONTINUE:"form_input"}}},on:{CANCEL:"wait"}}}},signed_in:{on:{SIGN_OUT:"signed_out"}}}},void 0===J&&(J=M.context),new F(M,$,J)),W=n("r6ip"),K=n.n(W)()(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"n/pL")).then(function(t){return t.StateChart})},{ssr:!1,loadableGenerated:{webpack:function(){return["n/pL"]},modules:["@statecharts/xstate-viz"]}});e.default=function(){return o.a.createElement(i.a,null,o.a.createElement(K,{machine:z,withEditor:!1}))}},AF32:function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){const{connection:n={}}=e,r=Object.assign({},t.headers,this.options.headers,n.headers),o=Object.assign({dataType:t.type||"json"},n,t,{headers:r});return t.body&&(o.data=JSON.stringify(t.body),o.contentType="application/json"),delete o.type,delete o.body,new Promise((t,e)=>{this.connection.ajax(o).then(t,t=>{let n=t.responseText;try{n=JSON.parse(n)}catch(r){n=new Error(t.responseText)}n.xhr=n.response=t,e(n)})})}}},AqD5:function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,o=Number(new Date),i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;a++;const i=r.formatters[o];if("function"==typeof i){const r=t[a];n=i.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n("kKrb"),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},CXPB:function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var t="function"==typeof Object.getOwnPropertySymbols;return{create:function(){var t=Object.create(this),e="string"==typeof t.__init?t.__init:"init";return"function"==typeof t[e]&&t[e].apply(t,arguments),t},mixin:function(e,n){var r=n||this,o=/\b_super\b/,i=Object.getPrototypeOf(r)||r.prototype,s={},a=e,c=function(t){var e=Object.getOwnPropertyDescriptor(a,t);!s[t]&&e&&(s[t]=e)};do{Object.getOwnPropertyNames(a).forEach(c),t&&Object.getOwnPropertySymbols(a).forEach(c)}while((a=Object.getPrototypeOf(a))&&Object.getPrototypeOf(a));var u=function(e){var n=s[e];"function"==typeof n.value&&o.test(n.value)&&(n.value=function(e,n,r,o){var i="function"==typeof n,s=function(){var t=this._super;this._super=i?n:e[r];var s=o.apply(this,arguments);return this._super=t,s};return i&&t&&Object.getOwnPropertySymbols(n).forEach(function(t){s[t]=n[t]}),s}(i,r[e],e,n.value)),Object.defineProperty(r,e,n)};return Object.keys(s).forEach(u),t&&Object.getOwnPropertySymbols(s).forEach(u),r},extend:function(t,e){return this.mixin(t,Object.create(e||this))},proxy:function(t){var e=this[t],n=Array.prototype.slice.call(arguments,1);return n.unshift(this),e.bind.apply(e,n)}}})?r.apply(e,o):r)||(t.exports=i)},DKHy:function(t,e,n){let r={populateHeader:n("6YOp"),populateAccessToken:n("zU+C"),populateEntity:n("rn8C")};t.exports=r},EIyU:function(t,e,n){const r=n("Gstq")("feathers:application"),{stripSlashes:o}=n("olO3"),i=n("CXPB"),s=n("b/IA"),a=n("N+J4"),c=n("hZg4"),u=i.extend({create:null}),f={init(){Object.assign(this,{version:c,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(a()),this.configure(s())},get(t){return this.settings[t]},set(t,e){return this.settings[t]=e,this},disable(t){return this.settings[t]=!1,this},disabled(t){return!this.settings[t]},enable(t){return this.settings[t]=!0,this},enabled(t){return!!this.settings[t]},configure(t){return t.call(this,this),this},service(t,e){if(void 0!==e)throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");const n=o(t)||"/",r=this.services[n];return void 0===r&&"function"==typeof this.defaultService?this.use(`/${n}`,this.defaultService(n)).service(n):r},use(t,e,n={}){if("string"!=typeof t)throw new Error(`'${t}' is not a valid service path.`);const i=o(t)||"/",s="function"==typeof e.service&&e.services,a=this.methods.concat("setup").some(t=>e&&"function"==typeof e[t]);if(s){const t=e;return Object.keys(t.services).forEach(e=>this.use(`${i}/${e}`,t.service(e))),this}if(!a)throw new Error(`Invalid service object passed for path \`${i}\``);const c=u.isPrototypeOf(e)?e:u.extend(e);return r(`Registering new service at \`${i}\``),this.mixins.forEach(t=>t.call(this,c,i,n)),"function"==typeof c._setup&&c._setup(this,i),this.providers.forEach(t=>t.call(this,c,i,n)),this._isSetup&&"function"==typeof c.setup&&(r(`Setting up service for \`${i}\``),c.setup(this,i)),this.services[i]=c,this},setup(){return Object.keys(this.services).forEach(t=>{const e=this.services[t];r(`Setting up service for \`${t}\``),"function"==typeof e.setup&&e.setup(this,t)}),this._isSetup=!0,this}};t.exports=f},FN6V:function(t,e,n){const r=n("vvX8"),{Unavailable:o}=n("zrHA"),{_:i}=n("olO3"),{stripSlashes:s}=n("olO3"),{convert:a}=n("zrHA");function c(t){if("ECONNREFUSED"===t.code)throw new o(t.message,i.pick(t,"address","port","config"));throw a(t)}t.exports=class{constructor(t){this.name=s(t.name),this.options=t.options,this.connection=t.connection,this.base=`${t.base}/${this.name}`}makeUrl(t,e){t=t||{};let n=this.base;return null!=e&&(n+=`/${encodeURIComponent(e)}`),0!==Object.keys(t).length&&(n+=`?${r.stringify(t)}`),n}find(t={}){return this.request({url:this.makeUrl(t.query),method:"GET",headers:Object.assign({},t.headers)},t).catch(c)}get(t,e={}){return void 0===t?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(e.query,t),method:"GET",headers:Object.assign({},e.headers)},e).catch(c)}create(t,e={}){return this.request({url:this.makeUrl(e.query),body:t,method:"POST",headers:Object.assign({"Content-Type":"application/json"},e.headers)},e).catch(c)}update(t,e,n={}){return void 0===t?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(n.query,t),body:e,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},n.headers)},n).catch(c)}patch(t,e,n={}){return void 0===t?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(n.query,t),body:e,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},n.headers)},n).catch(c)}remove(t,e={}){return void 0===t?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(e.query,t),method:"DELETE",headers:Object.assign({},e.headers)},e).catch(c)}}},FRkl:function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){const n=this.connection(t.method,t.url).set(this.options.headers||{}).set("Accept","application/json").set(e.connection||{}).set(t.headers||{}).type(t.type||"json");return new Promise((e,r)=>{n.set(t.headers),t.body&&n.send(t.body),n.end(function(t,n){if(t){try{const e=t.response;(t=JSON.parse(t.response.text)).response=e}catch(o){}return r(t)}e(n&&n.body)})})}}},FqFl:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],f=s[u];"object"==typeof f&&null!==f&&-1===n.indexOf(f)&&(e.push({obj:s,prop:u}),n.push(f))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},encode:function(t,e,n){if(0===t.length)return t;var r="string"==typeof t?t:String(t);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var o="",s=0;s<r.length;++s){var a=r.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?o+=r.charAt(s):a<128?o+=i[a]:a<2048?o+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?o+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(s)),o+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,i){if(!n)return e;if("object"!=typeof n){if(o(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var a=e;return o(e)&&!o(n)&&(a=s(e,i)),o(e)&&o(n)?(n.forEach(function(n,o){if(r.call(e,o)){var s=e[o];s&&"object"==typeof s&&n&&"object"==typeof n?e[o]=t(s,n,i):e.push(n)}else e[o]=n}),e):Object.keys(n).reduce(function(e,o){var s=n[o];return r.call(e,o)?e[o]=t(e[o],s,i):e[o]=s,e},a)}}},GWuh:function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){const n=Object.assign({url:t.url,method:t.method,data:t.body,headers:Object.assign({Accept:"application/json"},this.options.headers,t.headers)},e.connection);return this.connection.request(n).then(t=>t.data).catch(t=>{const e=t.response||t;throw e instanceof Error?e:e.data||e})}}},Gstq:function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(n){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n("AqD5")(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n("5IsQ"))},"KFv/":function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){const n=this.connection,r=this.options.HttpHeaders;if(!n||!r)throw new Error("Please pass angular's 'httpClient' (instance) and and object with 'HttpHeaders' (class) to feathers-rest");const o=t.url,{connection:i={}}=e,s=new r(Object.assign({Accept:"application/json"},this.options.headers,t.headers,i.headers)),a=Object.assign({body:t.body},e.connection,{headers:s});return new Promise((e,r)=>{n.request(t.method,o,a).subscribe(e,r)}).catch(t=>{const e=t.error;if(e)throw"string"==typeof e?JSON.parse(e):e;throw t})}}},MCyj:function(t,e,n){"use strict";n.d(e,"k",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"v",function(){return p}),n.d(e,"x",function(){return y}),n.d(e,"s",function(){return v}),n.d(e,"n",function(){return m}),n.d(e,"m",function(){return b}),n.d(e,"r",function(){return g}),n.d(e,"p",function(){return j}),n.d(e,"w",function(){return O}),n.d(e,"b",function(){return w}),n.d(e,"t",function(){return k}),n.d(e,"l",function(){return x}),n.d(e,"e",function(){return S}),n.d(e,"i",function(){return E}),n.d(e,"q",function(){return C}),n.d(e,"A",function(){return P}),n.d(e,"z",function(){return _}),n.d(e,"a",function(){return T}),n.d(e,"B",function(){return F}),n.d(e,"d",function(){return A}),n.d(e,"f",function(){return I}),n.d(e,"j",function(){return L}),n.d(e,"u",function(){return V}),n.d(e,"h",function(){return R}),n.d(e,"g",function(){return H}),n.d(e,"y",function(){return D});var r=n("wGSO"),o=n("0HVw"),i=n("UAkw"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t};function f(t){return!L(t)&&("value"in t&&"tree"in t&&"history"in t)}function l(t){return Object.keys(t)}function h(t,e,n){void 0===n&&(n=o.c);var r=y(t,n),i=y(e,n);return L(i)?!!L(r)&&i===r:L(r)?r in i:l(r).every(function(t){return t in i&&h(r[t],i[t])})}function d(t){try{return L(t)||"number"==typeof t?""+t:t.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function p(t,e){try{return A(t)?t:t.toString().split(e)}catch(n){throw new Error("'"+t+"' is not a valid state path.")}}function y(t,e){return f(t)?t.value:A(t)?v(t):"string"==typeof t||f(t)?v(p(t,e)):t}function v(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function m(t,e){for(var n={},r=l(t),o=0;o<r.length;o++){var i=r[o];n[i]=e(t[i],i,t,o)}return n}function b(t,e,n){var r,o,i={};try{for(var s=a(l(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=t[u];n(f)&&(i[u]=e(f,u,t))}}catch(h){r={error:h}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}var g=function(t){return function(e){var n,r,o=e;try{for(var i=a(t),s=i.next();!s.done;s=i.next()){o=o[s.value]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}};function j(t,e){return function(n){var r,o,i=n;try{for(var s=a(t),c=s.next();!c.done;c=s.next()){var u=c.value;i=i[e][u]}}catch(f){r={error:f}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}}function O(t){return t?L(t)?[[t]]:w(l(t).map(function(e){var n=t[e];return"string"==typeof n||n&&Object.keys(n).length?O(t[e]).map(function(t){return[e].concat(t)}):[[e]]})):[[]]}function w(t){var e;return(e=[]).concat.apply(e,u(t))}function k(t){return A(t)?t:void 0===t?[]:[t]}function x(t,e,n){var r,o;if(I(t))return t(e,n);var i={};try{for(var s=a(l(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=t[u];I(f)?i[u]=f(e,n):i[u]=f}}catch(h){r={error:h}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}function S(t){return 0===t.indexOf(r.a.DoneState)||0===t.indexOf(r.a.DoneInvoke)||(t===r.a.ErrorCommunication||t===r.a.ErrorExecution)}function E(t){return t instanceof Promise||!(null===t||!I(t)&&"object"!=typeof t||!I(t.then))}function C(t,e){var n,r,o=c([[],[]],2),i=o[0],s=o[1];try{for(var u=a(t),f=u.next();!f.done;f=u.next()){var l=f.value;e(l)?i.push(l):s.push(l)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return[i,s]}function N(t,e){return m(t.states,function(t,n){if(t){var r=(L(e)?void 0:e[n])||(t?t.current:void 0);if(r)return{current:r,states:N(t,r)}}})}function P(t,e){return{current:e,states:N(t,e)}}function _(t,e,n){return t?n.reduce(function(t,n){var o,i,s=n.assignment,c={};if(I(s))c=s(t,e||{type:r.a.Init});else try{for(var u=a(l(s)),f=u.next();!f.done;f=u.next()){var h=f.value,d=s[h];c[h]=I(d)?d(t,e):d}}catch(p){o={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return Object.assign({},t,c)},t):t}function T(t,e){var n=t.exec;return s({},t,{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e})}:void 0})}var F=function(){};function A(t){return Array.isArray(t)}function I(t){return"function"==typeof t}function L(t){return"string"==typeof t}function V(t,e){if(t)return L(t)?{type:o.a,name:t,predicate:e?e[t]:void 0}:I(t)?{type:o.a,name:t.name,predicate:t}:t}function R(t){try{return"subscribe"in t&&I(t.subscribe)}catch(e){return!1}}function H(t){try{return"__xstatenode"in t}catch(e){return!1}}i.a||(F=function(t,e){var n=t instanceof Error?t:void 0;if((n||!t)&&void 0!==console){var r=["Warning: "+e];n&&r.push(n),console.warn.apply(console,r)}});var D=function(){var t=0;return function(){return(++t).toString(16)}}()},"N+J4":function(t,e,n){const{hooks:r,isPromise:o,_:i}=n("olO3"),s=n("WqEm"),{createHookObject:a,getHooks:c,processHooks:u,enableHooks:f,ACTIVATE_HOOKS:l}=r,h=function({app:t,service:e,method:n,original:r}){return(c={})=>{const f=t.hookTypes.reduce((t,e)=>{const n=c[e]||[];return t[e]=Array.isArray(n)?n:[n],t},{});return function(...c){const l=!0===c[c.length-1]&&c.pop(),h=r||e[n].bind(e),d=a(n,{type:"before",arguments:c,service:e,app:t});return u.call(e,s.concat(f.before),d).then(t=>{if(void 0!==t.result)return t;const r=h(...((t,e,n)=>t.methods[e].reduce((t,e)=>[...t,n[e]],[]))(e,n,t));if(!o(r))throw new Error(`Service method '${t.method}' for '${t.path}' service must return a promise`);return r.then(e=>(t.result=e,t))}).then(t=>Object.assign({},t,{type:"after"})).then(t=>{const n=f.after.concat(f.finally);return u.call(e,n,t)}).then(t=>l?t:t.result).catch(t=>{const n=f.error.concat(f.finally),r=i.omit(Object.assign({},t.hook,d,{type:"error",original:t.hook,error:t}),"result");return u.call(e,n,r).catch(t=>(r.error=t,r)).then(t=>l?void 0!==t.result?t:Promise.reject(t):void 0!==t.result?t.result:Promise.reject(t.error))})}}},d=e.hookMixin=function(t){if("function"==typeof t.hooks)return;t.methods=Object.getOwnPropertyNames(t).filter(e=>"function"==typeof t[e]&&t[e][l]).reduce((e,n)=>(e[n]=t[n][l],e),t.methods||{}),Object.assign(t.methods,{find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]});const e=this,n=Object.keys(t.methods),r=n.reduce((n,r)=>"function"!=typeof t[r]?n:(n[r]=function(){const t=Array.from(arguments),n=this._super.bind(this);return h({app:e,service:this,method:r,original:n})({before:c(e,this,"before",r),after:c(e,this,"after",r,!0),error:c(e,this,"error",r,!0),finally:c(e,this,"finally",r,!0)})(...t)},n),{});f(t,n,e.hookTypes),t.mixin(r)};t.exports=function(){return function(t){Object.assign(t,{hookTypes:["before","after","error","finally"]}),f(t,t.methods,t.hookTypes),t.mixins.push(d)}},t.exports.withHooks=h,t.exports.ACTIVATE_HOOKS=l,t.exports.activateHooks=function(t){return e=>(Object.defineProperty(e,l,{value:t}),e)}},OmpS:function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},P6Nw:function(t,e,n){const{_:{each:r,pick:o},createSymbol:i}=n("Qvxu"),s=i("__feathersSkipHooks");e.SKIP=s,e.ACTIVATE_HOOKS=i("__feathersActivateHooks"),e.createHookObject=function(t,e={}){const n={};return Object.defineProperty(n,"toJSON",{value(){return o(this,"type","method","path","params","id","data","result","error")}}),Object.assign(n,e,{method:t,get path(){const{app:t,service:n}=e;return n&&t&&t.services?Object.keys(t.services).find(e=>t.services[e]===n):null}})},e.defaultMakeArguments=function(t){const e=[];return void 0!==t.id&&e.push(t.id),t.data&&e.push(t.data),e.push(t.params||{}),e},e.makeArguments=function(t){switch(t.method){case"find":return[t.params];case"get":case"remove":return[t.id,t.params];case"update":case"patch":return[t.id,t.data,t.params];case"create":return[t.data,t.params]}return e.defaultMakeArguments(t)},e.convertHookData=function(t){let e={};return Array.isArray(t)?e={all:t}:"object"!=typeof t?e={all:[t]}:r(t,function(t,n){e[n]=Array.isArray(t)?t:[t]}),e},e.isHookObject=function(t){return"object"==typeof t&&"string"==typeof t.method&&"string"==typeof t.type},e.getHooks=function(t,e,n,r,o=!1){const i=t.__hooks[n][r]||[],s=e.__hooks[n][r]||[];return o?s.concat(i):i.concat(s)},e.processHooks=function(t,n){let r=n,o=t=>{if(t){if(t===s)return s;if(!e.isHookObject(t))throw new Error(`${r.type} hook for '${r.method}' method returned invalid hook object`);r=t}return r};return t.reduce((t,e)=>{const n=e.bind(this);return(t=2===n.length?t.then(t=>t===s?s:new Promise((e,r)=>{n(t,(t,n)=>t?r(t):e(n))})):t.then(t=>t===s?s:n(t))).then(o)},Promise.resolve(r)).then(()=>r).catch(t=>{throw t.hook=r,t})},e.enableHooks=function(t,n,o){if("function"==typeof t.hooks)return t;const i={};return o.forEach(t=>{i[t]={}}),Object.defineProperty(t,"__hooks",{value:i}),Object.assign(t,{hooks(t){return r(t,(t,o)=>{if(!this.__hooks[o])throw new Error(`'${o}' is not a valid hook type`);const i=e.convertHookData(t);r(i,(t,e)=>{if("all"!==e&&-1===n.indexOf(e))throw new Error(`'${e}' is not a valid hook method`)}),n.forEach(t=>{const e=this.__hooks[o][t]||(this.__hooks[o][t]=[]);i.all&&e.push.apply(e,i.all),i[t]&&e.push.apply(e,i[t])})}),this}})}},Qvxu:function(t,e,n){(function(t){e.stripSlashes=function(t){return t.replace(/^(\/+)|(\/+)$/g,"")};const n=e._={each(t,e){t&&"function"==typeof t.forEach?t.forEach(e):n.isObject(t)&&Object.keys(t).forEach(n=>e(t[n],n))},some:(t,e)=>Object.keys(t).map(e=>[t[e],e]).some(([t,n])=>e(t,n)),every:(t,e)=>Object.keys(t).map(e=>[t[e],e]).every(([t,n])=>e(t,n)),keys:t=>Object.keys(t),values:t=>n.keys(t).map(e=>t[e]),isMatch:(t,e)=>n.keys(e).every(n=>t[n]===e[n]),isEmpty:t=>0===n.keys(t).length,isObject:t=>"object"==typeof t&&!Array.isArray(t)&&null!==t,isObjectOrArray:t=>"object"==typeof t&&null!==t,extend:(...t)=>Object.assign(...t),omit(t,...e){const r=n.extend({},t);return e.forEach(t=>delete r[t]),r},pick:(t,...e)=>e.reduce((e,n)=>(void 0!==t[n]&&(e[n]=t[n]),e),{}),merge:(t,e)=>(n.isObject(t)&&n.isObject(e)&&Object.keys(e).forEach(r=>{n.isObject(e[r])?(t[r]||Object.assign(t,{[r]:{}}),n.merge(t[r],e[r])):Object.assign(t,{[r]:e[r]})}),t)};e.isPromise=function(t){return n.isObject(t)&&"function"==typeof t.then},e.makeUrl=function(n,r={}){const o="function"==typeof r.get?r.get.bind(r):()=>{},i=o("env")||"production",s=o("host")||t.env.HOST_NAME||"localhost",a="development"===i||"test"===i||void 0===i?"http":"https",c=o("port")||t.env.PORT||3030;return n=n||"",`${a}://${s}${"development"===i||"test"===i||void 0===i?`:${c}`:""}/${e.stripSlashes(n)}`},e.createSymbol=(t=>"undefined"!=typeof Symbol?Symbol(t):t)}).call(this,n("5IsQ"))},TbmU:function(t,e,n){const r=n("DKHy"),o=n("l1yR"),i={header:"Authorization",cookie:"feathers-jwt",storageKey:"feathers-jwt",jwtStrategy:"jwt",path:"/authentication",entity:"user",service:"users",timeout:5e3};function s(t={}){const e=Object.assign({},i,t);return function(){const t=this;t.passport=new o(t,e),t.authenticate=t.passport.authenticate.bind(t.passport),t.logout=t.passport.logout.bind(t.passport),t.mixins.push(function(n){if(t.version<"3.0.0")throw new Error("This version of @feathersjs/authentication-client only works with @feathersjs/feathers v3.0.0 or later.");n.hooks({before:r.populateAccessToken(e)})}),t.rest&&t.mixins.push(function(t){t.hooks({before:r.populateHeader(e)})})}}t.exports=s,t.exports.default=s,t.exports.defaults=i},UAkw:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=!0},Vww5:function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){return new Promise((n,r)=>{const{connection:o={}}=e,i=Object.assign({},t.headers,o.headers);this.connection(Object.assign({json:!0},t,e.connection,{headers:i}),function(t,e,o){return t?r(t):!t&&e.statusCode>=400?"string"==typeof o?r(new Error(o)):(o.response=e,r(Object.assign(new Error(o.message),o))):void n(o)})})}}},WJub:function(t,e,n){const{hooks:r}=n("olO3"),o=n("CXPB"),i=n("EIyU"),s=n("hZg4"),{ACTIVATE_HOOKS:a,activateHooks:c}=n("N+J4"),u=Object.create(null);function f(){const t=Object.create(u);return o.mixin(i,t),t.init(),t}f.version=s,f.SKIP=r.SKIP,f.ACTIVATE_HOOKS=a,f.activateHooks=c,t.exports=f,t.exports.default=f},WqEm:function(t,e,n){const{_:r}=n("olO3");t.exports=[t=>{const{service:e,method:n}=t,r=e.methods[n],o=t.arguments.reduce((t,e,n)=>(t[r[n]]=e,t),{});return o.params||(o.params={}),Object.assign(t,o),t},t=>{const{service:e,method:n}=t,o=e.methods[n];if(o.includes("id")&&void 0===t.id)throw new Error(`An id must be provided to the '${n}' method`);if(o.includes("data")&&!r.isObjectOrArray(t.data))throw new Error(`A data object must be provided to the '${n}' method`);return t}]},"X3+z":function(t,e){e.Storage=class{constructor(){this.store={}}getItem(t){return this.store[t]}setItem(t,e){return this.store[t]=e}removeItem(t){return delete this.store[t],this}},e.payloadIsValid=function(t){return t&&(!t.exp||1e3*t.exp>(new Date).getTime())},e.getCookie=function(t){if("undefined"!=typeof document){const e=`; ${document.cookie}`.split(`; ${t}=`);if(2===e.length)return e.pop().split(";").shift()}return null},e.clearCookie=function(t){return"undefined"!=typeof document&&(document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:01 GMT;`),null}},YoyG:function(t,e,n){var r=n("ZQR4");t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(r(t).replace(/(.)/g,function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(e)}catch(n){return r(e)}}},ZQR4:function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,c="";i=e.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?c+=String.fromCharCode(255&o>>(-2*s&6)):0)i=n.indexOf(i);return c}},"b/IA":function(t,e,n){const{EventEmitter:r}=n("hBZP"),o=n("CXPB"),i=e.eventHook=function(){return function(t){const{app:e,service:n}=t,r=e.eventMappings[t.method],o=n._hookEvents&&-1!==n._hookEvents.indexOf(r);if(r&&o&&"error"!==t.type){(Array.isArray(t.result)?t.result:[t.result]).forEach(e=>n.emit(r,e,t))}}},s=e.eventMixin=function(t){if(t._serviceEvents)return;const e=this,n="function"==typeof t.on&&"function"==typeof t.emit;"function"!=typeof t.mixin||n||t.mixin(r.prototype),Object.defineProperties(t,{_serviceEvents:{value:Array.isArray(t.events)?t.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(e.eventMappings).forEach(n=>{const r=e.eventMappings[n],o=-1!==t._serviceEvents.indexOf(r);"function"!=typeof t[n]||o||(t._serviceEvents.push(r),t._hookEvents.push(r))})};t.exports=function(){return function(t){Object.assign(t,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),t.hooks({finally:i()}),o.mixin(r.prototype,t),t.mixins.push(s)}}},"d5/c":function(t,e,n){"use strict";var r=n("FqFl"),o=n("OmpS"),i=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,a(e)?e:[e])},f=Date.prototype.toISOString,l={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(e,n,o,i,s,c,f,h,d,p,y,v,m){var b=e;if("function"==typeof f?b=f(n,b):b instanceof Date?b=p(b):"comma"===o&&a(b)&&(b=b.join(",")),null===b){if(i)return c&&!v?c(n,l.encoder,m):n;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||r.isBuffer(b))return c?[y(v?n:c(n,l.encoder,m))+"="+y(c(b,l.encoder,m))]:[y(n)+"="+y(String(b))];var g,j=[];if(void 0===b)return j;if(a(f))g=f;else{var O=Object.keys(b);g=h?O.sort(h):O}for(var w=0;w<g.length;++w){var k=g[w];s&&null===b[k]||(a(b)?u(j,t(b[k],"function"==typeof o?o(n,k):n,o,i,s,c,f,h,d,p,y,v,m)):u(j,t(b[k],n+(d?"."+k:"["+k+"]"),o,i,s,c,f,h,d,p,y,v,m)))}return j};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return l;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||l.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==t.format){if(!i.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=o.formatters[n],s=l.filter;return("function"==typeof t.filter||a(t.filter))&&(s=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:l.addQueryPrefix,allowDots:void 0===t.allowDots?l.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:l.charsetSentinel,delimiter:void 0===t.delimiter?l.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:l.encode,encoder:"function"==typeof t.encoder?t.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:l.encodeValuesOnly,filter:s,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:l.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:l.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):a(c.filter)&&(n=c.filter);var f,d=[];if("object"!=typeof r||null===r)return"";f=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=s[f];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var y=0;y<n.length;++y){var v=n[y];c.skipNulls&&null===r[v]||u(d,h(r[v],v,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var m=d.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),m.length>0?b+m:""}},hBZP:function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var o,i,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var u=c.length,f=p(c,u);for(n=0;n<u;++n)i(f[n],this,e)}return!0},a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,l(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,l(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,o,i,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return h(this,t,!0)},a.prototype.rawListeners=function(t){return h(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},hZg4:function(t,e){t.exports="3.3.1"},iHuT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o={deferEvents:!1},i=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=r({},o,t)}return t.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents)return void this.schedule(t);this.process(t)}this.flushEvents()},t.prototype.schedule=function(t){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()}else this.queue.push(t)},t.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},t.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(e){throw this.queue=[],e}finally{this.processingEvent=!1}},t}()},kKrb:function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=7*i,a=365.25*i;function c(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var c=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=i)return c(t,e,i,"day");if(e>=o)return c(t,e,o,"hour");if(e>=r)return c(t,e,r,"minute");if(e>=n)return c(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=i)return Math.round(t/i)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},kPTX:function(t,e,n){"use strict";var r=n("YoyG");function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(r(t.split(".")[n]))}catch(i){throw new o("Invalid token specified: "+i.message)}},t.exports.InvalidTokenError=o},l1yR:function(t,e,n){const r=n("zrHA"),o=n("kPTX"),i=n("Gstq"),{Storage:s,payloadIsValid:a,getCookie:c,clearCookie:u}=n("X3+z"),f=i("@feathersjs/authentication-client");t.exports=class{constructor(t,e){if(t.passport)throw new Error("You have already registered authentication on this client app instance. You only need to do it once.");Object.assign(this,{options:e,app:t,payloadIsValid:a,getCookie:c,clearCookie:u,storage:t.get("storage")||this.getStorage(e.storage)}),this.setJWT=this.setJWT.bind(this),t.set("storage",this.storage),this.getJWT().then(this.setJWT),this.setupSocketListeners()}setupSocketListeners(){const t=this.app,e=t.io||t.primus,n=t.io?"emit":"send",r=t.io?"reconnect":"reconnected";if(!e)return;e.on(r,()=>{if(f("Socket reconnected"),e.authenticated){const r={strategy:this.options.jwtStrategy,accessToken:t.get("accessToken")};this.authenticateSocket(r,e,n).then(this.setJWT).catch(n=>{f("Error re-authenticating after socket reconnect",n),e.authenticated=!1,t.emit("reauthentication-error",n)})}});const o=()=>{e.io.engine.on("upgrade",()=>{if(f("Socket upgrading"),e.authenticated){const r={strategy:this.options.jwtStrategy,accessToken:t.get("accessToken")};this.authenticateSocket(r,e,n).then(this.setJWT).catch(n=>{f("Error re-authenticating after socket upgrade",n),e.authenticated=!1,t.emit("reauthentication-error",n)})}})};e.io&&e.io.engine?o():e.on("connect",o)}connected(){const t=this.app;if(t.rest)return Promise.resolve();const e=t.io||t.primus;return e?t.io&&e.connected||t.primus&&3===e.readyState?(f("Socket already connected"),Promise.resolve(e)):new Promise((n,r)=>{const o=t.primus?"open":"connect",i=t.io?"disconnect":"end",s=setTimeout(()=>{f("Socket connection timed out"),r(new Error("Socket connection timed out"))},this.options.timeout);f("Waiting for socket connection");const a=()=>{f("Socket disconnected before it could connect"),e.authenticated=!1};e.once(i,a),e.once(o,()=>{f("Socket connected"),f(`Removing ${i} listener`),e.removeListener(i,a),clearTimeout(s),n(e)})}):Promise.reject(new Error("It looks like your client connection has not been configured."))}authenticate(t={}){const e=this.app;let n=Promise.resolve(t);return t.strategy||(t.accessToken?t.strategy=this.options.jwtStrategy:n=this.getJWT().then(t=>t?{strategy:this.options.jwtStrategy,accessToken:t}:Promise.reject(new r.NotAuthenticated("Could not find stored JWT and no authentication strategy was given")))),n.then(t=>this.connected(e).then(n=>{if(e.rest)return e.service(this.options.path).create(t).then(this.setJWT);const r=e.io?"emit":"send";return this.authenticateSocket(t,n,r).then(this.setJWT)})).then(t=>(e.emit("authenticated",t),t))}authenticateSocket(t,e,n){return new Promise((r,o)=>{const i=setTimeout(()=>{f("authenticateSocket timed out"),o(new Error("Authentication timed out"))},this.options.timeout);f("Attempting to authenticate socket"),e[n]("authenticate",t,(t,n)=>{if(t)return o(t);clearTimeout(i),e.authenticated=!0,f("Socket authenticated!"),r(n)})})}logoutSocket(t,e){return new Promise((n,r)=>{const o=setTimeout(()=>{f("logoutSocket timed out"),r(new Error("Logout timed out"))},this.options.timeout);t[e]("logout",e=>{if(clearTimeout(o),t.authenticated=!1,e)return r(e);n()})})}logout(){const t=this.app;return t.set("accessToken",null),this.clearCookie(this.options.cookie),Promise.resolve(t.get("storage").removeItem(this.options.storageKey)).then(()=>{if(t.io||t.primus){const e=t.io?"emit":"send",n=t.io?t.io:t.primus;return this.logoutSocket(n,e)}}).then(e=>(t.emit("logout",e),e))}setJWT(t){const e=t&&t.accessToken?t.accessToken:t;return e&&(this.app.set("accessToken",e),this.app.get("storage").setItem(this.options.storageKey,e)),Promise.resolve(t)}getJWT(){const t=this.app;return new Promise((e,n)=>{const r=t.get("accessToken");return r?e(r):Promise.resolve(this.storage.getItem(this.options.storageKey)).then(t=>{let n=t||this.getCookie(this.options.cookie);return n&&"null"!==n&&!this.payloadIsValid(o(n))&&(n=void 0),e(n)}).catch(n)})}verifyJWT(t){if("string"!=typeof t)return Promise.reject(new Error("Token provided to verifyJWT is missing or not a string"));try{let n=o(t);return this.payloadIsValid(n)?Promise.resolve(n):Promise.reject(new Error("Invalid token: expired"))}catch(e){return Promise.reject(new Error("Cannot decode malformed token."))}}getStorage(t){return t||new s}}},lLdn:function(t,e,n){const r=n("AF32"),o=n("FRkl"),i=n("Vww5"),s=n("+bMU"),a=n("GWuh"),c=n("t+dh"),u=n("FN6V"),f={jquery:r,superagent:o,request:i,fetch:s,axios:a,angular:c,angularHttpClient:n("KFv/")};function l(t=""){const e={Base:u};return Object.keys(f).forEach(n=>{const r=f[n];e[n]=function(e,o={}){if(!e)throw new Error(`${n} has to be provided to feathers-rest`);const i=function(n){return new r({base:t,name:n,connection:e,options:o})},s=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.rest=e,this.defaultService=i};return s.Service=r,s.service=i,s}}),e}t.exports=l,t.exports.default=l},olO3:function(t,e,n){const r=n("Qvxu"),o=n("P6Nw");t.exports=Object.assign({},r,{hooks:o})},r6ip:function(t,e,n){"use strict";var r=n("PL1w"),o=r(n("1qCV")),i=r(n("U8Yc")),s=r(n("ZOIa")),a=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n("mXGw")),u=a(n("968K")),f="undefined"==typeof window;function l(t,e){if(delete e.webpack,delete e.modules,!f)return t(e);var n=e.loading;return function(){return c.default.createElement(n,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}}function h(){return c.default.createElement("p",null,"loading...")}e.noSSR=l,e.default=function(t,e){var n=u.default,r={loading:function(t){return t.error,t.isLoading,t.pastDelay?c.default.createElement(h,null):null}};if(t instanceof s.default?r.loader=function(){return t}:"function"==typeof t?r.loader=t:"object"==typeof t&&(r=(0,i.default)({},r,t)),r=(0,i.default)({},r,e),"object"==typeof t&&!(t instanceof s.default)&&(t.render&&(r.render=function(e,n){return t.render(n,e)}),t.modules)){n=u.default.Map;var a={},f=t.modules();(0,o.default)(f).forEach(function(t){var e=f[t];"function"!=typeof e.then?a[t]=e:a[t]=function(){return e.then(function(t){return t.default||t})}}),r.loader=a}if(r.loadableGenerated&&delete(r=(0,i.default)({},r,r.loadableGenerated)).loadableGenerated,"boolean"==typeof r.ssr){if(!r.ssr)return delete r.ssr,l(n,r);delete r.ssr}return n(r)}},rn8C:function(t,e){t.exports=function(t={}){if(!t.service)throw new Error("You need to pass 'options.service' to the populateEntity() hook.");if(!t.field)throw new Error("You need to pass 'options.field' to the populateEntity() hook.");if(!t.entity)throw new Error("You need to pass 'options.entity' to the populateEntity() hook.");return function(e){const n=e.app;return"after"!==e.type?Promise.reject(new Error("The 'populateEntity' hook should only be used as an 'after' hook.")):n.passport.verifyJWT(e.result.accessToken).then(e=>{const r=e[t.field];return r?n.service(t.service).get(r):Promise.reject(new Error(`Access token payload is missing the '${t.field}' field.`))}).then(r=>(e.result[t.entity]=r,n.set(t.entity,r),Promise.resolve(e)))}}},"t+dh":function(t,e,n){const r=n("FN6V");t.exports=class extends r{request(t,e){const n=this.connection,r=this.options.Headers;if(!n||!r)throw new Error("Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest");const o=t.url,{connection:i={}}=e,s=new r(Object.assign({Accept:"application/json"},this.options.headers,t.headers,i.headers)),a=Object.assign({method:t.method,body:t.body},i,{headers:s});return new Promise((t,e)=>{n.request(o,a).subscribe(t,e)}).then(t=>t.json()).catch(t=>{const e=t.response||t;throw e instanceof Error?e:e.json()||e})}}},"u/lu":function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});var r=n("wGSO"),o=n("0HVw"),i=n("MCyj"),s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};function c(t,e){if(t===e)return!0;if(void 0===t||void 0===e)return!1;if(Object(i.j)("string"===t||typeof e))return t===e;var n=Object(i.k)(t),r=Object(i.k)(e);return n.length===r.length&&n.every(function(n){return c(t[n],e[n])})}var u=function(){function t(t){this.actions=[],this.activities=o.b,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this.event=t.event,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||o.b,this.meta=t.meta||{},this.events=t.events||[],Object.defineProperty(this,"tree",{value:t.tree,enumerable:!1}),this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this)}return t.from=function(e,n){return e instanceof t?e.context!==n?new t({value:e.value,context:n,event:e.event,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],tree:e.tree}):e:new t({value:e,context:n,event:{type:r.a.Init},historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[]})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var o={type:r.a.Init};return new t({value:e.value,context:n,event:o,historyValue:e.historyValue,history:e.history,activities:e.activities,tree:e.tree})}return t.from(e,n)},Object.defineProperty(t.prototype,"inert",{get:function(){return t.inert(this,this.context)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextEvents",{get:function(){return this.tree?this.tree.nextEvents:[]},enumerable:!0,configurable:!0}),t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),Object(i.j)(t))return[t];var r=Object(i.k)(t);return r.concat.apply(r,a(r.map(function(r){return n.toStrings(t[r]).map(function(t){return r+e+t})})))},t.prototype.matches=function(t){return Object(i.o)(t,this.value)},t}()},vvX8:function(t,e,n){"use strict";var r=n("d5/c"),o=n("z49c"),i=n("OmpS");t.exports={formats:i,parse:o,stringify:r}},wGSO:function(t,e,n){"use strict";var r,o;n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.Update="xstate.update",t.Pure="xstate.pure"}(r||(r={})),function(t){t.Parent="#_parent",t.Internal="#_internal"}(o||(o={}))},wksm:function(t,e,n){"use strict";n.d(e,"j",function(){return o}),n.d(e,"k",function(){return i}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"a",function(){return f}),n.d(e,"f",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"l",function(){return y});var r=n("wGSO"),o=r.a.Start,i=r.a.Stop,s=r.a.Raise,a=r.a.Send,c=r.a.Cancel,u=r.a.NullEvent,f=r.a.Assign,l=(r.a.After,r.a.DoneState,r.a.Log),h=r.a.Init,d=r.a.Invoke,p=r.a.ErrorExecution,y=r.a.Update},wt2B:function(t,e,n){"use strict";function r(t){try{return"function"==typeof t.send}catch(e){return!1}}n.d(e,"a",function(){return r})},z49c:function(t,e,n){"use strict";var r=n("FqFl"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},a=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(r),a=s?r.slice(0,s.index):r,c=[];if(a){if(!n.plainObjects&&o.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var u=0;null!==(s=i.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+r.slice(s.index)+"]"),function(t,e,n){for(var r=e,o=t.length-1;o>=0;--o){var i,s=t[o];if("[]"===s&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(a,10);n.parseArrays||""!==a?!isNaN(c)&&s!==a&&String(c)===a&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:i[a]=r:i={0:r}}r=i}return r}(c,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return i;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?i.charset:t.charset;return{allowDots:void 0===t.allowDots?i.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:i.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:i.comma,decoder:"function"==typeof t.decoder?t.decoder:i.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:i.delimiter,depth:"number"==typeof t.depth?t.depth:i.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:i.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n,a={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,f=c.split(e.delimiter,u),l=-1,h=e.charset;if(e.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?h="utf-8":"utf8=%26%2310003%3B"===f[n]&&(h="iso-8859-1"),l=n,n=f.length);for(n=0;n<f.length;++n)if(n!==l){var d,p,y=f[n],v=y.indexOf("]="),m=-1===v?y.indexOf("="):v+1;-1===m?(d=e.decoder(y,i.decoder,h),p=e.strictNullHandling?null:""):(d=e.decoder(y.slice(0,m),i.decoder,h),p=e.decoder(y.slice(m+1),i.decoder,h)),p&&e.interpretNumericEntities&&"iso-8859-1"===h&&(p=s(p)),p&&e.comma&&p.indexOf(",")>-1&&(p=p.split(",")),o.call(a,d)?a[d]=r.combine(a[d],p):a[d]=p}return a}(t,n):t,u=n.plainObjects?Object.create(null):{},f=Object.keys(c),l=0;l<f.length;++l){var h=f[l],d=a(h,c[h],n);u=r.merge(u,d,n)}return r.compact(u)}},"zU+C":function(t,e){t.exports=function(){return function(t){const e=t.app;return"before"!==t.type?Promise.reject(new Error("The 'populateAccessToken' hook should only be used as a 'before' hook.")):(Object.assign(t.params,{accessToken:e.get("accessToken")}),Promise.resolve(t))}}},zrHA:function(t,e,n){const r=n("Gstq")("@feathersjs/errors");function o(t,e,n,i,s){let a,c,u;(t=t||"Error")instanceof Error?(c=t.message||"Error",t.errors&&(a=t.errors)):"object"==typeof t?(c=t.message||"Error",s=t):c=t,s&&((u=JSON.parse(JSON.stringify(s))).errors?(a=u.errors,delete u.errors):s.errors&&(a=JSON.parse(JSON.stringify(s.errors)))),this.type="FeathersError",this.name=e,this.message=c,this.code=n,this.className=i,this.data=u,this.errors=a||{},r(`${this.name}(${this.code}): ${this.message}`),r(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function s(t,e){o.call(this,t,"BadRequest",400,"bad-request",e)}function a(t,e){o.call(this,t,"NotAuthenticated",401,"not-authenticated",e)}function c(t,e){o.call(this,t,"PaymentError",402,"payment-error",e)}function u(t,e){o.call(this,t,"Forbidden",403,"forbidden",e)}function f(t,e){o.call(this,t,"NotFound",404,"not-found",e)}function l(t,e){o.call(this,t,"MethodNotAllowed",405,"method-not-allowed",e)}function h(t,e){o.call(this,t,"NotAcceptable",406,"not-acceptable",e)}function d(t,e){o.call(this,t,"Timeout",408,"timeout",e)}function p(t,e){o.call(this,t,"Conflict",409,"conflict",e)}function y(t,e){o.call(this,t,"LengthRequired",411,"length-required",e)}function v(t,e){o.call(this,t,"Unprocessable",422,"unprocessable",e)}function m(t,e){o.call(this,t,"TooManyRequests",429,"too-many-requests",e)}function b(t,e){o.call(this,t,"GeneralError",500,"general-error",e)}function g(t,e){o.call(this,t,"NotImplemented",501,"not-implemented",e)}function j(t,e){o.call(this,t,"BadGateway",502,"bad-gateway",e)}function O(t,e){o.call(this,t,"Unavailable",503,"unavailable",e)}i(o,Error),Object.defineProperty(o.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),i(s,o),i(a,o),i(c,o),i(u,o),i(f,o),i(l,o),i(h,o),i(d,o),i(p,o),i(y,o),i(v,o),i(m,o),i(b,o),i(g,o),i(j,o),i(O,o);const w={FeathersError:o,BadRequest:s,NotAuthenticated:a,PaymentError:c,Forbidden:u,NotFound:f,MethodNotAllowed:l,NotAcceptable:h,Timeout:d,Conflict:p,LengthRequired:y,Unprocessable:v,TooManyRequests:m,GeneralError:b,NotImplemented:g,BadGateway:j,Unavailable:O,400:s,401:a,402:c,403:u,404:f,405:l,406:h,408:d,409:p,411:y,422:v,429:m,500:b,501:g,502:j,503:O};t.exports=Object.assign({convert:function(t){if(!t)return t;const e=w[t.name],n=e?new e(t.message,t.data):new Error(t.message||t);return"object"==typeof t&&Object.assign(n,t),n}},w)}},[["/lDR",1,0]]]);