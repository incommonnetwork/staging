(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+bMU":function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){let r=Object.assign({},e,t.connection);return r.headers=Object.assign({Accept:"application/json"},this.options.headers,r.headers),e.body&&(r.body=JSON.stringify(e.body)),(0,this.connection)(e.url,r).then(this.checkStatus).then(e=>204===e.status?null:e.json())}checkStatus(e){return e.ok?e:e.json().then(t=>{throw t.response=e,t})}}},"2rXV":function(e,t,r){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,t.default=n.fetch.bind(n),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},"30rj":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){var e=r("FCuQ");return{page:e.default||e}}])},"5IsQ":function(e,t){var r,n,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,u=[],l=!1,p=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):p=-1,u.length&&h())}function h(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(a=u,u=[];++p<t;)a&&a[p].run();p=-1,t=u.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"6YOp":function(e,t){e.exports=function(e={}){if(!e.header)throw new Error("You need to pass 'options.header' to the populateHeader() hook.");return function(t){return"before"!==t.type?Promise.reject(new Error("The 'populateHeader' hook should only be used as a 'before' hook.")):(t.params.accessToken&&(t.params.headers=Object.assign({},{[e.header]:e.prefix?`${e.prefix} ${t.params.accessToken}`:t.params.accessToken},t.params.headers)),Promise.resolve(t))}}},AF32:function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){const{connection:r={}}=t,n=Object.assign({},e.headers,this.options.headers,r.headers),o=Object.assign({dataType:e.type||"json"},r,e,{headers:n});return e.body&&(o.data=JSON.stringify(e.body),o.contentType="application/json"),delete o.type,delete o.body,new Promise((e,t)=>{this.connection.ajax(o).then(e,e=>{let r=e.responseText;try{r=JSON.parse(r)}catch(n){r=new Error(e.responseText)}r.xhr=r.response=e,t(r)})})}}},AqD5:function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function i(...e){if(!i.enabled)return;const t=i,o=Number(new Date),s=o-(r||o);t.diff=s,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return r;c++;const s=n.formatters[o];if("function"==typeof s){const n=e[c];r=s.call(t,n),e.splice(c,1),c--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return i.namespace=e,i.enabled=n.enabled(e),i.useColors=n.useColors(),i.color=t(e),i.destroy=o,i.extend=s,"function"==typeof n.init&&n.init(i),n.instances.push(i),i}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(i),...n.skips.map(i).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r("kKrb"),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},CXPB:function(e,t,r){var n,o,s;o=[],void 0===(s="function"==typeof(n=function(){var e="function"==typeof Object.getOwnPropertySymbols;return{create:function(){var e=Object.create(this),t="string"==typeof e.__init?e.__init:"init";return"function"==typeof e[t]&&e[t].apply(e,arguments),e},mixin:function(t,r){var n=r||this,o=/\b_super\b/,s=Object.getPrototypeOf(n)||n.prototype,i={},c=t,a=function(e){var t=Object.getOwnPropertyDescriptor(c,e);!i[e]&&t&&(i[e]=t)};do{Object.getOwnPropertyNames(c).forEach(a),e&&Object.getOwnPropertySymbols(c).forEach(a)}while((c=Object.getPrototypeOf(c))&&Object.getPrototypeOf(c));var u=function(t){var r=i[t];"function"==typeof r.value&&o.test(r.value)&&(r.value=function(t,r,n,o){var s="function"==typeof r,i=function(){var e=this._super;this._super=s?r:t[n];var i=o.apply(this,arguments);return this._super=e,i};return s&&e&&Object.getOwnPropertySymbols(r).forEach(function(e){i[e]=r[e]}),i}(s,n[t],t,r.value)),Object.defineProperty(n,t,r)};return Object.keys(i).forEach(u),e&&Object.getOwnPropertySymbols(i).forEach(u),n},extend:function(e,t){return this.mixin(e,Object.create(t||this))},proxy:function(e){var t=this[e],r=Array.prototype.slice.call(arguments,1);return r.unshift(this),t.bind.apply(t,r)}}})?n.apply(t,o):n)||(e.exports=s)},DKHy:function(e,t,r){let n={populateHeader:r("6YOp"),populateAccessToken:r("zU+C"),populateEntity:r("rn8C")};e.exports=n},EIyU:function(e,t,r){const n=r("Gstq")("feathers:application"),{stripSlashes:o}=r("olO3"),s=r("CXPB"),i=r("b/IA"),c=r("N+J4"),a=r("hZg4"),u=s.extend({create:null}),l={init(){Object.assign(this,{version:a,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(c()),this.configure(i())},get(e){return this.settings[e]},set(e,t){return this.settings[e]=t,this},disable(e){return this.settings[e]=!1,this},disabled(e){return!this.settings[e]},enable(e){return this.settings[e]=!0,this},enabled(e){return!!this.settings[e]},configure(e){return e.call(this,this),this},service(e,t){if(void 0!==t)throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");const r=o(e)||"/",n=this.services[r];return void 0===n&&"function"==typeof this.defaultService?this.use(`/${r}`,this.defaultService(r)).service(r):n},use(e,t,r={}){if("string"!=typeof e)throw new Error(`'${e}' is not a valid service path.`);const s=o(e)||"/",i="function"==typeof t.service&&t.services,c=this.methods.concat("setup").some(e=>t&&"function"==typeof t[e]);if(i){const e=t;return Object.keys(e.services).forEach(t=>this.use(`${s}/${t}`,e.service(t))),this}if(!c)throw new Error(`Invalid service object passed for path \`${s}\``);const a=u.isPrototypeOf(t)?t:u.extend(t);return n(`Registering new service at \`${s}\``),this.mixins.forEach(e=>e.call(this,a,s,r)),"function"==typeof a._setup&&a._setup(this,s),this.providers.forEach(e=>e.call(this,a,s,r)),this._isSetup&&"function"==typeof a.setup&&(n(`Setting up service for \`${s}\``),a.setup(this,s)),this.services[s]=a,this},setup(){return Object.keys(this.services).forEach(e=>{const t=this.services[e];n(`Setting up service for \`${e}\``),"function"==typeof t.setup&&t.setup(this,e)}),this._isSetup=!0,this}};e.exports=l},FCuQ:function(e,t,r){"use strict";r.r(t);var n=r("UrUy"),o=r.n(n),s=r("R3/3"),i=r("LkAs"),c=r("Moms"),a=r("bMj6"),u=r("hZod"),l=r("tEuJ"),p=r("mXGw"),f=r.n(p),h=r("WJub"),d=r.n(h),m=r("TbmU"),y=r.n(m),g=r("lLdn"),v=r.n(g),b=null;function w(e){return O.apply(this,arguments)}function O(){return(O=Object(s.default)(o.a.mark(function e(t){var n,s,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=d()(),s=t?r("2rXV"):window.fetch,i=t?"http://localhost".concat(""):void 0,c=v()(i),n.configure(c.fetch(s)),n.configure(y()({storage:t?void 0:localStorage})),t&&console.log(t),e.next=9,n.authenticate().catch(function(e){console.warn(e)});case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j=function(){var e=Object(s.default)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=4;break}return e.next=3,w(t);case 3:b=e.sent;case 4:return e.abrupt("return",b);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(e){function t(){return Object(i.default)(this,t),Object(a.default)(this,Object(u.default)(t).apply(this,arguments))}return Object(l.default)(t,e),Object(c.default)(t,[{key:"componentDidMount",value:function(){var e=Object(s.default)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.service("users").create({email:"".concat(Math.random(),"@test.cors"),password:"test.cors"}).catch(function(e){return e}).then(function(e){console.log(e)});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return f.a.createElement("div",null,"check console")}}]),t}(p.Component);t.default=k},FN6V:function(e,t,r){const n=r("vvX8"),{Unavailable:o}=r("zrHA"),{_:s}=r("olO3"),{stripSlashes:i}=r("olO3"),{convert:c}=r("zrHA");function a(e){if("ECONNREFUSED"===e.code)throw new o(e.message,s.pick(e,"address","port","config"));throw c(e)}e.exports=class{constructor(e){this.name=i(e.name),this.options=e.options,this.connection=e.connection,this.base=`${e.base}/${this.name}`}makeUrl(e,t){e=e||{};let r=this.base;return null!=t&&(r+=`/${encodeURIComponent(t)}`),0!==Object.keys(e).length&&(r+=`?${n.stringify(e)}`),r}find(e={}){return this.request({url:this.makeUrl(e.query),method:"GET",headers:Object.assign({},e.headers)},e).catch(a)}get(e,t={}){return void 0===e?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(t.query,e),method:"GET",headers:Object.assign({},t.headers)},t).catch(a)}create(e,t={}){return this.request({url:this.makeUrl(t.query),body:e,method:"POST",headers:Object.assign({"Content-Type":"application/json"},t.headers)},t).catch(a)}update(e,t,r={}){return void 0===e?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,e),body:t,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(a)}patch(e,t,r={}){return void 0===e?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,e),body:t,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(a)}remove(e,t={}){return void 0===e?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(t.query,e),method:"DELETE",headers:Object.assign({},t.headers)},t).catch(a)}}},FRkl:function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){const r=this.connection(e.method,e.url).set(this.options.headers||{}).set("Accept","application/json").set(t.connection||{}).set(e.headers||{}).type(e.type||"json");return new Promise((t,n)=>{r.set(e.headers),e.body&&r.send(e.body),r.end(function(e,r){if(e){try{const t=e.response;(e=JSON.parse(e.response.text)).response=t}catch(o){}return n(e)}t(r&&r.body)})})}}},FqFl:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var s=t[n],i=s.obj[s.prop],c=Object.keys(i),a=0;a<c.length;++a){var u=c[a],l=i[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:i,prop:u}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],s=0;s<r.length;++s)void 0!==r[s]&&n.push(r[s]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(o){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",i=0;i<n.length;++i){var c=n.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?o+=n.charAt(i):c<128?o+=s[c]:c<2048?o+=s[192|c>>6]+s[128|63&c]:c<55296||c>=57344?o+=s[224|c>>12]+s[128|c>>6&63]+s[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&n.charCodeAt(i)),o+=s[240|c>>18]+s[128|c>>12&63]+s[128|c>>6&63]+s[128|63&c])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,s){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var c=t;return o(t)&&!o(r)&&(c=i(t,s)),o(t)&&o(r)?(r.forEach(function(r,o){if(n.call(t,o)){var i=t[o];i&&"object"==typeof i&&r&&"object"==typeof r?t[o]=e(i,r,s):t.push(r)}else t[o]=r}),t):Object.keys(r).reduce(function(t,o){var i=r[o];return n.call(t,o)?t[o]=e(t[o],i,s):t[o]=i,t},c)}}},GWuh:function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){const r=Object.assign({url:e.url,method:e.method,data:e.body,headers:Object.assign({Accept:"application/json"},this.options.headers,e.headers)},t.connection);return this.connection.request(r).then(e=>e.data).catch(e=>{const t=e.response||e;throw t instanceof Error?t:t.data||t})}}},Gstq:function(e,t,r){(function(n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r("AqD5")(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r("5IsQ"))},"KFv/":function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){const r=this.connection,n=this.options.HttpHeaders;if(!r||!n)throw new Error("Please pass angular's 'httpClient' (instance) and and object with 'HttpHeaders' (class) to feathers-rest");const o=e.url,{connection:s={}}=t,i=new n(Object.assign({Accept:"application/json"},this.options.headers,e.headers,s.headers)),c=Object.assign({body:e.body},t.connection,{headers:i});return new Promise((t,n)=>{r.request(e.method,o,c).subscribe(t,n)}).catch(e=>{const t=e.error;if(t)throw"string"==typeof t?JSON.parse(t):t;throw e})}}},"N+J4":function(e,t,r){const{hooks:n,isPromise:o,_:s}=r("olO3"),i=r("WqEm"),{createHookObject:c,getHooks:a,processHooks:u,enableHooks:l,ACTIVATE_HOOKS:p}=n,f=function({app:e,service:t,method:r,original:n}){return(a={})=>{const l=e.hookTypes.reduce((e,t)=>{const r=a[t]||[];return e[t]=Array.isArray(r)?r:[r],e},{});return function(...a){const p=!0===a[a.length-1]&&a.pop(),f=n||t[r].bind(t),h=c(r,{type:"before",arguments:a,service:t,app:e});return u.call(t,i.concat(l.before),h).then(e=>{if(void 0!==e.result)return e;const n=f(...((e,t,r)=>e.methods[t].reduce((e,t)=>[...e,r[t]],[]))(t,r,e));if(!o(n))throw new Error(`Service method '${e.method}' for '${e.path}' service must return a promise`);return n.then(t=>(e.result=t,e))}).then(e=>Object.assign({},e,{type:"after"})).then(e=>{const r=l.after.concat(l.finally);return u.call(t,r,e)}).then(e=>p?e:e.result).catch(e=>{const r=l.error.concat(l.finally),n=s.omit(Object.assign({},e.hook,h,{type:"error",original:e.hook,error:e}),"result");return u.call(t,r,n).catch(e=>(n.error=e,n)).then(e=>p?void 0!==e.result?e:Promise.reject(e):void 0!==e.result?e.result:Promise.reject(e.error))})}}},h=t.hookMixin=function(e){if("function"==typeof e.hooks)return;e.methods=Object.getOwnPropertyNames(e).filter(t=>"function"==typeof e[t]&&e[t][p]).reduce((t,r)=>(t[r]=e[r][p],t),e.methods||{}),Object.assign(e.methods,{find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]});const t=this,r=Object.keys(e.methods),n=r.reduce((r,n)=>"function"!=typeof e[n]?r:(r[n]=function(){const e=Array.from(arguments),r=this._super.bind(this);return f({app:t,service:this,method:n,original:r})({before:a(t,this,"before",n),after:a(t,this,"after",n,!0),error:a(t,this,"error",n,!0),finally:a(t,this,"finally",n,!0)})(...e)},r),{});l(e,r,t.hookTypes),e.mixin(n)};e.exports=function(){return function(e){Object.assign(e,{hookTypes:["before","after","error","finally"]}),l(e,e.methods,e.hookTypes),e.mixins.push(h)}},e.exports.withHooks=f,e.exports.ACTIVATE_HOOKS=p,e.exports.activateHooks=function(e){return t=>(Object.defineProperty(t,p,{value:e}),t)}},OmpS:function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},P6Nw:function(e,t,r){const{_:{each:n,pick:o},createSymbol:s}=r("Qvxu"),i=s("__feathersSkipHooks");t.SKIP=i,t.ACTIVATE_HOOKS=s("__feathersActivateHooks"),t.createHookObject=function(e,t={}){const r={};return Object.defineProperty(r,"toJSON",{value(){return o(this,"type","method","path","params","id","data","result","error")}}),Object.assign(r,t,{method:e,get path(){const{app:e,service:r}=t;return r&&e&&e.services?Object.keys(e.services).find(t=>e.services[t]===r):null}})},t.defaultMakeArguments=function(e){const t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t},t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return t.defaultMakeArguments(e)},t.convertHookData=function(e){let t={};return Array.isArray(e)?t={all:e}:"object"!=typeof e?t={all:[e]}:n(e,function(e,r){t[r]=Array.isArray(e)?e:[e]}),t},t.isHookObject=function(e){return"object"==typeof e&&"string"==typeof e.method&&"string"==typeof e.type},t.getHooks=function(e,t,r,n,o=!1){const s=e.__hooks[r][n]||[],i=t.__hooks[r][n]||[];return o?i.concat(s):s.concat(i)},t.processHooks=function(e,r){let n=r,o=e=>{if(e){if(e===i)return i;if(!t.isHookObject(e))throw new Error(`${n.type} hook for '${n.method}' method returned invalid hook object`);n=e}return n};return e.reduce((e,t)=>{const r=t.bind(this);return(e=2===r.length?e.then(e=>e===i?i:new Promise((t,n)=>{r(e,(e,r)=>e?n(e):t(r))})):e.then(e=>e===i?i:r(e))).then(o)},Promise.resolve(n)).then(()=>n).catch(e=>{throw e.hook=n,e})},t.enableHooks=function(e,r,o){if("function"==typeof e.hooks)return e;const s={};return o.forEach(e=>{s[e]={}}),Object.defineProperty(e,"__hooks",{value:s}),Object.assign(e,{hooks(e){return n(e,(e,o)=>{if(!this.__hooks[o])throw new Error(`'${o}' is not a valid hook type`);const s=t.convertHookData(e);n(s,(e,t)=>{if("all"!==t&&-1===r.indexOf(t))throw new Error(`'${t}' is not a valid hook method`)}),r.forEach(e=>{const t=this.__hooks[o][e]||(this.__hooks[o][e]=[]);s.all&&t.push.apply(t,s.all),s[e]&&t.push.apply(t,s[e])})}),this}})}},Qvxu:function(e,t,r){(function(e){t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")};const r=t._={each(e,t){e&&"function"==typeof e.forEach?e.forEach(t):r.isObject(e)&&Object.keys(e).forEach(r=>t(e[r],r))},some:(e,t)=>Object.keys(e).map(t=>[e[t],t]).some(([e,r])=>t(e,r)),every:(e,t)=>Object.keys(e).map(t=>[e[t],t]).every(([e,r])=>t(e,r)),keys:e=>Object.keys(e),values:e=>r.keys(e).map(t=>e[t]),isMatch:(e,t)=>r.keys(t).every(r=>e[r]===t[r]),isEmpty:e=>0===r.keys(e).length,isObject:e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,isObjectOrArray:e=>"object"==typeof e&&null!==e,extend:(...e)=>Object.assign(...e),omit(e,...t){const n=r.extend({},e);return t.forEach(e=>delete n[e]),n},pick:(e,...t)=>t.reduce((t,r)=>(void 0!==e[r]&&(t[r]=e[r]),t),{}),merge:(e,t)=>(r.isObject(e)&&r.isObject(t)&&Object.keys(t).forEach(n=>{r.isObject(t[n])?(e[n]||Object.assign(e,{[n]:{}}),r.merge(e[n],t[n])):Object.assign(e,{[n]:t[n]})}),e)};t.isPromise=function(e){return r.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(r,n={}){const o="function"==typeof n.get?n.get.bind(n):()=>{},s=o("env")||"production",i=o("host")||e.env.HOST_NAME||"localhost",c="development"===s||"test"===s||void 0===s?"http":"https",a=o("port")||e.env.PORT||3030;return r=r||"",`${c}://${i}${"development"===s||"test"===s||void 0===s?`:${a}`:""}/${t.stripSlashes(r)}`},t.createSymbol=(e=>"undefined"!=typeof Symbol?Symbol(e):e)}).call(this,r("5IsQ"))},TbmU:function(e,t,r){const n=r("DKHy"),o=r("l1yR"),s={header:"Authorization",cookie:"feathers-jwt",storageKey:"feathers-jwt",jwtStrategy:"jwt",path:"/authentication",entity:"user",service:"users",timeout:5e3};function i(e={}){const t=Object.assign({},s,e);return function(){const e=this;e.passport=new o(e,t),e.authenticate=e.passport.authenticate.bind(e.passport),e.logout=e.passport.logout.bind(e.passport),e.mixins.push(function(r){if(e.version<"3.0.0")throw new Error("This version of @feathersjs/authentication-client only works with @feathersjs/feathers v3.0.0 or later.");r.hooks({before:n.populateAccessToken(t)})}),e.rest&&e.mixins.push(function(e){e.hooks({before:n.populateHeader(t)})})}}e.exports=i,e.exports.default=i,e.exports.defaults=s},Vww5:function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){return new Promise((r,n)=>{const{connection:o={}}=t,s=Object.assign({},e.headers,o.headers);this.connection(Object.assign({json:!0},e,t.connection,{headers:s}),function(e,t,o){return e?n(e):!e&&t.statusCode>=400?"string"==typeof o?n(new Error(o)):(o.response=t,n(Object.assign(new Error(o.message),o))):void r(o)})})}}},WJub:function(e,t,r){const{hooks:n}=r("olO3"),o=r("CXPB"),s=r("EIyU"),i=r("hZg4"),{ACTIVATE_HOOKS:c,activateHooks:a}=r("N+J4"),u=Object.create(null);function l(){const e=Object.create(u);return o.mixin(s,e),e.init(),e}l.version=i,l.SKIP=n.SKIP,l.ACTIVATE_HOOKS=c,l.activateHooks=a,e.exports=l,e.exports.default=l},WqEm:function(e,t,r){const{_:n}=r("olO3");e.exports=[e=>{const{service:t,method:r}=e,n=t.methods[r],o=e.arguments.reduce((e,t,r)=>(e[n[r]]=t,e),{});return o.params||(o.params={}),Object.assign(e,o),e},e=>{const{service:t,method:r}=e,o=t.methods[r];if(o.includes("id")&&void 0===e.id)throw new Error(`An id must be provided to the '${r}' method`);if(o.includes("data")&&!n.isObjectOrArray(e.data))throw new Error(`A data object must be provided to the '${r}' method`);return e}]},"X3+z":function(e,t){t.Storage=class{constructor(){this.store={}}getItem(e){return this.store[e]}setItem(e,t){return this.store[e]=t}removeItem(e){return delete this.store[e],this}},t.payloadIsValid=function(e){return e&&(!e.exp||1e3*e.exp>(new Date).getTime())},t.getCookie=function(e){if("undefined"!=typeof document){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}return null},t.clearCookie=function(e){return"undefined"!=typeof document&&(document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:01 GMT;`),null}},YoyG:function(e,t,r){var n=r("ZQR4");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(r){return n(t)}}},ZQR4:function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,s,i=0,c=0,a="";s=t.charAt(c++);~s&&(o=i%4?64*o+s:s,i++%4)?a+=String.fromCharCode(255&o>>(-2*i&6)):0)s=r.indexOf(s);return a}},"b/IA":function(e,t,r){const{EventEmitter:n}=r("hBZP"),o=r("CXPB"),s=t.eventHook=function(){return function(e){const{app:t,service:r}=e,n=t.eventMappings[e.method],o=r._hookEvents&&-1!==r._hookEvents.indexOf(n);if(n&&o&&"error"!==e.type){(Array.isArray(e.result)?e.result:[e.result]).forEach(t=>r.emit(n,t,e))}}},i=t.eventMixin=function(e){if(e._serviceEvents)return;const t=this,r="function"==typeof e.on&&"function"==typeof e.emit;"function"!=typeof e.mixin||r||e.mixin(n.prototype),Object.defineProperties(e,{_serviceEvents:{value:Array.isArray(e.events)?e.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(t.eventMappings).forEach(r=>{const n=t.eventMappings[r],o=-1!==e._serviceEvents.indexOf(n);"function"!=typeof e[r]||o||(e._serviceEvents.push(n),e._hookEvents.push(n))})};e.exports=function(){return function(e){Object.assign(e,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),e.hooks({finally:s()}),o.mixin(n.prototype,e),e.mixins.push(i)}}},"d5/c":function(e,t,r){"use strict";var n=r("FqFl"),o=r("OmpS"),s=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,a=Array.prototype.push,u=function(e,t){a.apply(e,c(t)?t:[t])},l=Date.prototype.toISOString,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,o,s,i,a,l,f,h,d,m,y,g){var v=t;if("function"==typeof l?v=l(r,v):v instanceof Date?v=d(v):"comma"===o&&c(v)&&(v=v.join(",")),null===v){if(s)return a&&!y?a(r,p.encoder,g):r;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||n.isBuffer(v))return a?[m(y?r:a(r,p.encoder,g))+"="+m(a(v,p.encoder,g))]:[m(r)+"="+m(String(v))];var b,w=[];if(void 0===v)return w;if(c(l))b=l;else{var O=Object.keys(v);b=f?O.sort(f):O}for(var j=0;j<b.length;++j){var k=b[j];i&&null===v[k]||(c(v)?u(w,e(v[k],"function"==typeof o?o(r,k):r,o,s,i,a,l,f,h,d,m,y,g)):u(w,e(v[k],r+(h?"."+k:"["+k+"]"),o,s,i,a,l,f,h,d,m,y,g)))}return w};e.exports=function(e,t){var r,n=e,a=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],i=p.filter;return("function"==typeof e.filter||c(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:i,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof a.filter?n=(0,a.filter)("",n):c(a.filter)&&(r=a.filter);var l,h=[];if("object"!=typeof n||null===n)return"";l=t&&t.arrayFormat in i?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=i[l];r||(r=Object.keys(n)),a.sort&&r.sort(a.sort);for(var m=0;m<r.length;++m){var y=r[m];a.skipNulls&&null===n[y]||u(h,f(n[y],y,d,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.formatter,a.encodeValuesOnly,a.charset))}var g=h.join(a.delimiter),v=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},hBZP:function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var a=10;function u(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var o,s,i,c;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),void 0===i)i=s[t]=r,++e._eventsCount;else if("function"==typeof i?i=s[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),(o=u(e))>0&&i.length>o&&!i.warned){i.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=i.length,c=a,console&&console.warn&&console.warn(c)}return e}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}.bind(n);return o.listener=r,n.wrapFn=o,o}function f(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):d(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)s(a,this,t);else{var u=a.length,l=d(a,u);for(r=0;r<u;++r)s(l[r],this,t)}return!0},c.prototype.addListener=function(e,t){return l(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return l(this,e,t,!0)},c.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,o,s,i;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){i=r[s].listener,o=s;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(o=s[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return f(this,e,!0)},c.prototype.rawListeners=function(e){return f(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},c.prototype.listenerCount=h,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},hZg4:function(e,t){e.exports="3.3.1"},kKrb:function(e,t){var r=1e3,n=60*r,o=60*n,s=24*o,i=7*s,c=365.25*s;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return a(e,t,s,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},kPTX:function(e,t,r){"use strict";var n=r("YoyG");function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(s){throw new o("Invalid token specified: "+s.message)}},e.exports.InvalidTokenError=o},l1yR:function(e,t,r){const n=r("zrHA"),o=r("kPTX"),s=r("Gstq"),{Storage:i,payloadIsValid:c,getCookie:a,clearCookie:u}=r("X3+z"),l=s("@feathersjs/authentication-client");e.exports=class{constructor(e,t){if(e.passport)throw new Error("You have already registered authentication on this client app instance. You only need to do it once.");Object.assign(this,{options:t,app:e,payloadIsValid:c,getCookie:a,clearCookie:u,storage:e.get("storage")||this.getStorage(t.storage)}),this.setJWT=this.setJWT.bind(this),e.set("storage",this.storage),this.getJWT().then(this.setJWT),this.setupSocketListeners()}setupSocketListeners(){const e=this.app,t=e.io||e.primus,r=e.io?"emit":"send",n=e.io?"reconnect":"reconnected";if(!t)return;t.on(n,()=>{if(l("Socket reconnected"),t.authenticated){const n={strategy:this.options.jwtStrategy,accessToken:e.get("accessToken")};this.authenticateSocket(n,t,r).then(this.setJWT).catch(r=>{l("Error re-authenticating after socket reconnect",r),t.authenticated=!1,e.emit("reauthentication-error",r)})}});const o=()=>{t.io.engine.on("upgrade",()=>{if(l("Socket upgrading"),t.authenticated){const n={strategy:this.options.jwtStrategy,accessToken:e.get("accessToken")};this.authenticateSocket(n,t,r).then(this.setJWT).catch(r=>{l("Error re-authenticating after socket upgrade",r),t.authenticated=!1,e.emit("reauthentication-error",r)})}})};t.io&&t.io.engine?o():t.on("connect",o)}connected(){const e=this.app;if(e.rest)return Promise.resolve();const t=e.io||e.primus;return t?e.io&&t.connected||e.primus&&3===t.readyState?(l("Socket already connected"),Promise.resolve(t)):new Promise((r,n)=>{const o=e.primus?"open":"connect",s=e.io?"disconnect":"end",i=setTimeout(()=>{l("Socket connection timed out"),n(new Error("Socket connection timed out"))},this.options.timeout);l("Waiting for socket connection");const c=()=>{l("Socket disconnected before it could connect"),t.authenticated=!1};t.once(s,c),t.once(o,()=>{l("Socket connected"),l(`Removing ${s} listener`),t.removeListener(s,c),clearTimeout(i),r(t)})}):Promise.reject(new Error("It looks like your client connection has not been configured."))}authenticate(e={}){const t=this.app;let r=Promise.resolve(e);return e.strategy||(e.accessToken?e.strategy=this.options.jwtStrategy:r=this.getJWT().then(e=>e?{strategy:this.options.jwtStrategy,accessToken:e}:Promise.reject(new n.NotAuthenticated("Could not find stored JWT and no authentication strategy was given")))),r.then(e=>this.connected(t).then(r=>{if(t.rest)return t.service(this.options.path).create(e).then(this.setJWT);const n=t.io?"emit":"send";return this.authenticateSocket(e,r,n).then(this.setJWT)})).then(e=>(t.emit("authenticated",e),e))}authenticateSocket(e,t,r){return new Promise((n,o)=>{const s=setTimeout(()=>{l("authenticateSocket timed out"),o(new Error("Authentication timed out"))},this.options.timeout);l("Attempting to authenticate socket"),t[r]("authenticate",e,(e,r)=>{if(e)return o(e);clearTimeout(s),t.authenticated=!0,l("Socket authenticated!"),n(r)})})}logoutSocket(e,t){return new Promise((r,n)=>{const o=setTimeout(()=>{l("logoutSocket timed out"),n(new Error("Logout timed out"))},this.options.timeout);e[t]("logout",t=>{if(clearTimeout(o),e.authenticated=!1,t)return n(t);r()})})}logout(){const e=this.app;return e.set("accessToken",null),this.clearCookie(this.options.cookie),Promise.resolve(e.get("storage").removeItem(this.options.storageKey)).then(()=>{if(e.io||e.primus){const t=e.io?"emit":"send",r=e.io?e.io:e.primus;return this.logoutSocket(r,t)}}).then(t=>(e.emit("logout",t),t))}setJWT(e){const t=e&&e.accessToken?e.accessToken:e;return t&&(this.app.set("accessToken",t),this.app.get("storage").setItem(this.options.storageKey,t)),Promise.resolve(e)}getJWT(){const e=this.app;return new Promise((t,r)=>{const n=e.get("accessToken");return n?t(n):Promise.resolve(this.storage.getItem(this.options.storageKey)).then(e=>{let r=e||this.getCookie(this.options.cookie);return r&&"null"!==r&&!this.payloadIsValid(o(r))&&(r=void 0),t(r)}).catch(r)})}verifyJWT(e){if("string"!=typeof e)return Promise.reject(new Error("Token provided to verifyJWT is missing or not a string"));try{let r=o(e);return this.payloadIsValid(r)?Promise.resolve(r):Promise.reject(new Error("Invalid token: expired"))}catch(t){return Promise.reject(new Error("Cannot decode malformed token."))}}getStorage(e){return e||new i}}},lLdn:function(e,t,r){const n=r("AF32"),o=r("FRkl"),s=r("Vww5"),i=r("+bMU"),c=r("GWuh"),a=r("t+dh"),u=r("FN6V"),l={jquery:n,superagent:o,request:s,fetch:i,axios:c,angular:a,angularHttpClient:r("KFv/")};function p(e=""){const t={Base:u};return Object.keys(l).forEach(r=>{const n=l[r];t[r]=function(t,o={}){if(!t)throw new Error(`${r} has to be provided to feathers-rest`);const s=function(r){return new n({base:e,name:r,connection:t,options:o})},i=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.rest=t,this.defaultService=s};return i.Service=n,i.service=s,i}}),t}e.exports=p,e.exports.default=p},olO3:function(e,t,r){const n=r("Qvxu"),o=r("P6Nw");e.exports=Object.assign({},n,{hooks:o})},rn8C:function(e,t){e.exports=function(e={}){if(!e.service)throw new Error("You need to pass 'options.service' to the populateEntity() hook.");if(!e.field)throw new Error("You need to pass 'options.field' to the populateEntity() hook.");if(!e.entity)throw new Error("You need to pass 'options.entity' to the populateEntity() hook.");return function(t){const r=t.app;return"after"!==t.type?Promise.reject(new Error("The 'populateEntity' hook should only be used as an 'after' hook.")):r.passport.verifyJWT(t.result.accessToken).then(t=>{const n=t[e.field];return n?r.service(e.service).get(n):Promise.reject(new Error(`Access token payload is missing the '${e.field}' field.`))}).then(n=>(t.result[e.entity]=n,r.set(e.entity,n),Promise.resolve(t)))}}},"t+dh":function(e,t,r){const n=r("FN6V");e.exports=class extends n{request(e,t){const r=this.connection,n=this.options.Headers;if(!r||!n)throw new Error("Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest");const o=e.url,{connection:s={}}=t,i=new n(Object.assign({Accept:"application/json"},this.options.headers,e.headers,s.headers)),c=Object.assign({method:e.method,body:e.body},s,{headers:i});return new Promise((e,t)=>{r.request(o,c).subscribe(e,t)}).then(e=>e.json()).catch(e=>{const t=e.response||e;throw t instanceof Error?t:t.json()||t})}}},vvX8:function(e,t,r){"use strict";var n=r("d5/c"),o=r("z49c"),s=r("OmpS");e.exports={formats:s,parse:o,stringify:n}},z49c:function(e,t,r){"use strict";var n=r("FqFl"),o=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),c=i?n.slice(0,i.index):n,a=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;a.push(c)}for(var u=0;null!==(i=s.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&o.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;a.push(i[1])}return i&&a.push("["+n.slice(i.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var s,i=e[o];if("[]"===i&&r.parseArrays)s=[].concat(n);else{s=r.plainObjects?Object.create(null):{};var c="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,a=parseInt(c,10);r.parseArrays||""!==c?!isNaN(a)&&i!==c&&String(a)===c&&a>=0&&r.parseArrays&&a<=r.arrayLimit?(s=[])[a]=n:s[c]=n:s={0:n}}n=s}return n}(a,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth?e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){var r,c={},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,l=a.split(t.delimiter,u),p=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<l.length;++r)0===l[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[r]?f="utf-8":"utf8=%26%2310003%3B"===l[r]&&(f="iso-8859-1"),p=r,r=l.length);for(r=0;r<l.length;++r)if(r!==p){var h,d,m=l[r],y=m.indexOf("]="),g=-1===y?m.indexOf("="):y+1;-1===g?(h=t.decoder(m,s.decoder,f),d=t.strictNullHandling?null:""):(h=t.decoder(m.slice(0,g),s.decoder,f),d=t.decoder(m.slice(g+1),s.decoder,f)),d&&t.interpretNumericEntities&&"iso-8859-1"===f&&(d=i(d)),d&&t.comma&&d.indexOf(",")>-1&&(d=d.split(",")),o.call(c,h)?c[h]=n.combine(c[h],d):c[h]=d}return c}(e,r):e,u=r.plainObjects?Object.create(null):{},l=Object.keys(a),p=0;p<l.length;++p){var f=l[p],h=c(f,a[f],r);u=n.merge(u,h,r)}return n.compact(u)}},"zU+C":function(e,t){e.exports=function(){return function(e){const t=e.app;return"before"!==e.type?Promise.reject(new Error("The 'populateAccessToken' hook should only be used as a 'before' hook.")):(Object.assign(e.params,{accessToken:t.get("accessToken")}),Promise.resolve(e))}}},zrHA:function(e,t,r){const n=r("Gstq")("@feathersjs/errors");function o(e,t,r,s,i){let c,a,u;(e=e||"Error")instanceof Error?(a=e.message||"Error",e.errors&&(c=e.errors)):"object"==typeof e?(a=e.message||"Error",i=e):a=e,i&&((u=JSON.parse(JSON.stringify(i))).errors?(c=u.errors,delete u.errors):i.errors&&(c=JSON.parse(JSON.stringify(i.errors)))),this.type="FeathersError",this.name=t,this.message=a,this.code=r,this.className=s,this.data=u,this.errors=c||{},n(`${this.name}(${this.code}): ${this.message}`),n(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function i(e,t){o.call(this,e,"BadRequest",400,"bad-request",t)}function c(e,t){o.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function a(e,t){o.call(this,e,"PaymentError",402,"payment-error",t)}function u(e,t){o.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){o.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){o.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function f(e,t){o.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function h(e,t){o.call(this,e,"Timeout",408,"timeout",t)}function d(e,t){o.call(this,e,"Conflict",409,"conflict",t)}function m(e,t){o.call(this,e,"LengthRequired",411,"length-required",t)}function y(e,t){o.call(this,e,"Unprocessable",422,"unprocessable",t)}function g(e,t){o.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function v(e,t){o.call(this,e,"GeneralError",500,"general-error",t)}function b(e,t){o.call(this,e,"NotImplemented",501,"not-implemented",t)}function w(e,t){o.call(this,e,"BadGateway",502,"bad-gateway",t)}function O(e,t){o.call(this,e,"Unavailable",503,"unavailable",t)}s(o,Error),Object.defineProperty(o.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),s(i,o),s(c,o),s(a,o),s(u,o),s(l,o),s(p,o),s(f,o),s(h,o),s(d,o),s(m,o),s(y,o),s(g,o),s(v,o),s(b,o),s(w,o),s(O,o);const j={FeathersError:o,BadRequest:i,NotAuthenticated:c,PaymentError:a,Forbidden:u,NotFound:l,MethodNotAllowed:p,NotAcceptable:f,Timeout:h,Conflict:d,LengthRequired:m,Unprocessable:y,TooManyRequests:g,GeneralError:v,NotImplemented:b,BadGateway:w,Unavailable:O,400:i,401:c,402:a,403:u,404:l,405:p,406:f,408:h,409:d,411:m,422:y,429:g,500:v,501:b,502:w,503:O};e.exports=Object.assign({convert:function(e){if(!e)return e;const t=j[e.name],r=t?new t(e.message,e.data):new Error(e.message||e);return"object"==typeof e&&Object.assign(r,e),r}},j)}},[["30rj",1,0]]]);