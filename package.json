{
    "name": "InCommon",
    "description": "",
    "version": "0.0.0",
    "homepage": "https://incommon.dev",
    "main": "server",
    "keywords": [
        "feathers"
    ],
    "author": {
        "name": "Ryan Bennett",
        "email": "ryan@incommon.dev"
    },
    "contributors": [],
    "bugs": {},
    "directories": {
        "lib": "server",
        "test": "test/",
        "config": "config/"
    },
    "engines": {
        "node": "^10.0.0",
        "npm": ">= 3.0.0"
    },
    "scripts": {
        "eslint": "eslint client/. server/. test/. --config .eslintrc.json --fix",
        "sequelize": "sleep 5 && npm run sequelize:migrate && sleep 10 && npm run sequelize:seed",
        "sequelize:migrate": "sequelize db:migrate",
        "sequelize:seed": "sequelize db:seed:all",
        "dev": "npm run dev:prepare; npm run dev:log",
        "dev:prepare": "npm run dev:cleanup; npm run dev:postgres:start; npm run sequelize:migrate; npm run dev:server:start; ",
        "dev:postgres:start": "docker run --name incommon -p 5432:5432 -e POSTGRES_PASSWORD=incommon -e POSTGRES_USER=incommon -d postgres; npm run sequelize",
        "dev:postgres:stop": "docker stop incommon; docker rm incommon",
        "dev:server:start": "export NODE_ENV=dev; pm2 start nodemon -- server/",
        "dev:server:stop": "pm2 stop nodemon",
        "dev:log": "pm2 log all",
        "dev:test": "export TEST_ENV=dev; jest --verbose --watch test/services",
        "dev:cleanup": "npm run dev:server:stop; npm run dev:postgres:stop",
        "ci:test": "npm run ci:test:prepare && npm run sequelize:migrate && NODE_ENV=test TEST_ENV=ci pm2 start server && sleep 30 && pm2 logs --nostream --lines 100 && npm run ci:test:jest",
        "ci:test:local": "pm2 kill && npm run ci:test:prepare && npm run sequelize:migrate && NODE_ENV=test TEST_ENV=ci pm2 start server && sleep 30 && pm2 logs --nostream --lines 100 && export TEST_ENV=ci; jest test/integrations/end2end.test.js",
        "ci:test:prepare": "npm run eslint; npm run ci:client:build;",
        "ci:test:jest": "export TEST_ENV=ci; jest -i test/services",
        "ci:client:build": "NODE_ENV=travis next build ./client",
        "staging:deploy:client": "export NODE_ENV=staging; next build ./client; next export ./client -o ./staging; cp -rT staging/ .",
        "staging:deploy:api": "ANSIBLE_HOST_KEY_CHECKING=False ansible-playbook -i ./api/inventory ./api/playbook.yml --key-file ~/.ssh/id_travis --extra-vars \"incommon_host=staging.incommon.dev incommon_NODE_ENV=staging incommon_POSTGRES_CONNECTION=$POSTGRES_CONNECTION incommon_FASTMAIL_PASSWORD=$FASTMAIL_PASSWORD incommon_TWILIO_SID=$TWILIO_SID incommon_TWILIO_AUTH=$TWILIO_AUTH\"",
        "staging:test": "export TEST_ENV=staging; jest test/",
        "production:deploy": "npm run production:deploy:db && npm run production:deploy:api && npm run production:deploy:client",
        "production:deploy:db": "export NODE_ENV=production && export POSTGRES_CONNECTION=$INCOMMON_PRODUCTION_DB && npm run sequelize:migrate",
        "production:deploy:client": "git checkout gh-pages && git merge master && export NODE_ENV=production; next build ./client && next export ./client -o ./docs && cp -rT docs/ . && git add . && git commit . -m 'prod' && git push production gh-pages:master --force && git checkout master",
        "production:deploy:api": "ansible-playbook -i ./api/inventory ./api/playbook.yml --key-file ~/.ssh/id_incommon_droplet --extra-vars \"incommon_host=api.incommon.dev incommon_NODE_ENV=production incommon_POSTGRES_CONNECTION=$INCOMMON_PRODUCTION_DB incommon_FASTMAIL_PASSWORD=$FASTMAIL_PASSWORD incommon_TWILIO_SID=$TWILIO_SID incommon_TWILIO_AUTH=$TWILIO_AUTH\"",
        "production:test": "export TEST_ENV=production; jest test/",
        "server:start:prod": "NODE_ENV=production node server/",
        "server:start": "node server/",
        "server:jest": "jest",
        "client:dev": "next ./client",
        "client:build": "next build ./client/",
        "client:build:staging": "NODE_ENV=staging next build ./client",
        "client:start": "next start ./client/",
        "client:export:staging": "npm run client:build:staging && NODE_ENV=staging next export ./client -o ./staging",
        "client:deploy:staging": "npm run client:export:staging && cp -rT staging/ ."
    },
    "nodemonConfig": {
        "ignore": [
            "test/*",
            "client/.next/*",
            "client/*"
        ],
        "delay": "1000"
    },
    "dependencies": {
        "@feathersjs/authentication": "^2.1.16",
        "@feathersjs/authentication-client": "^1.0.11",
        "@feathersjs/authentication-jwt": "^2.0.10",
        "@feathersjs/authentication-local": "^1.2.9",
        "@feathersjs/authentication-oauth2": "^1.3.1",
        "@feathersjs/configuration": "^2.0.6",
        "@feathersjs/errors": "^3.3.6",
        "@feathersjs/express": "^1.3.1",
        "@feathersjs/feathers": "^3.3.1",
        "@feathersjs/rest-client": "^1.4.7",
        "@statecharts/xstate-viz": "file:xstate-viz",
        "@xstate/react": "^0.6.1",
        "@zeit/next-css": "^1.0.1",
        "@zeit/next-sass": "^1.0.1",
        "compression": "^1.7.3",
        "cors": "^2.8.5",
        "feathers-sequelize": "^4.1.1",
        "fromentries": "^1.1.0",
        "fs-jetpack": "^2.2.2",
        "helmet": "^3.15.0",
        "moment": "^2.24.0",
        "next": "^11.1.3",
        "next-transpile-modules": "^2.3.1",
        "node-sass": "^4.12.0",
        "nodemailer": "^6.2.1",
        "passport-facebook": "^3.0.0",
        "passport-github": "^1.1.0",
        "passport-google-oauth20": "^2.0.0",
        "pg": "^7.11.0",
        "prop-types": "^15.7.2",
        "react": "^16.7.0",
        "react-bulma-components": "^3.0.1-6",
        "react-dom": "^16.7.0",
        "react-jsonschema-form": "^1.6.1",
        "rfc822-validate": "^1.0.0",
        "sequelize": "^5.3.5",
        "sequelize-cli": "^5.4.0",
        "serve-favicon": "^2.5.0",
        "tar": "^4.4.2",
        "twilio": "^3.31.1",
        "url-search-params-polyfill": "^7.0.0",
        "winston": "^3.1.0",
        "xstate": "^4.6.0"
    },
    "devDependencies": {
        "@feathersjs/cli": "^3.9.0",
        "eslint": "^5.12.0",
        "eslint-plugin-react": "^7.13.0",
        "jest": "^23.6.0",
        "next-plugin-transpile-modules": "^2.0.0",
        "ngrok": "^3.1.1",
        "node-fetch": "^2.6.0",
        "nodemon": "^1.18.9",
        "pm2": "^3.5.0",
        "puppeteer": "^1.16.0",
        "request": "^2.88.0",
        "request-promise": "^4.2.2",
        "request-promise-native": "^1.0.7"
    },
    "prettier": {
        "trailingComma": "all",
        "singleQuote": true,
        "printWidth": 70
    }
}